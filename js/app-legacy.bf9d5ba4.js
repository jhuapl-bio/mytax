(function(){"use strict";var e={1169:function(e,t,a){a(6992),a(8674),a(9601),a(7727);var n=a(144),s=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-app",[a("v-app-bar",{attrs:{app:"",color:"light",dark:"",absolute:"",dense:""}},[a("v-toolbar-title",[e._v("Real Time Nanopore Report Analysis")]),a("v-spacer"),!e.samplesheetdata||e.samplesheetdata.length<=0?a("span",{staticStyle:{"margin-right":"10px"}},[e._v("No Data Loaded")]):e._e(),a("v-checkbox",{staticStyle:{"text-align":"center"},on:{click:function(t){return e.runBundleUpdate(t)}},scopedSlots:e._u([{key:"label",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",e._g({},n),[a("v-icon",[e._v(" mdi-card-plus ")]),e._v(" Enable Name Mapping ")],1)]}}])},[e._v(" If you have a names.dmp file (pre-loaded as well), map additional names to taxids such as common name ")])]},proxy:!0}]),model:{value:e.runBundle,callback:function(t){e.runBundle=t},expression:"runBundle"}}),a("v-spacer"),a("v-checkbox",{staticStyle:{"text-align":"center"},scopedSlots:e._u([{key:"label",fn:function(){return[a("v-tooltip",{attrs:{bottom:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("div",e._g({},n),[a("v-icon",[e._v(" mdi-expansion-card ")]),e._v(" Enable GPU ")],1)]}}])},[e._v(" If you have a NVIDIA GPU Card with Cuda installed, enable GPU ")])]},proxy:!0}]),model:{value:e.gpu,callback:function(t){e.gpu=t},expression:"gpu"}}),a("v-spacer"),a("v-btn",{attrs:{"btn-and-icon":"",color:"blue "},on:{mouseover:function(t){e.navigation.shown=!0},click:function(t){e.navigation.shown=!0}}},[e.anyRunning?a("v-progress-circular",{staticClass:"mr-2",attrs:{indeterminate:!0,top:"",stream:"",size:"14",color:"white"}}):e._e(),e._v(" Data Sheet "),!e.samplesheetdata||e.samplesheetdata.length<=0?a("span",{staticClass:"pulse"}):a("v-icon",{staticClass:"ml-2"},[e._v("mdi-export")])],1)],1),a("div",{staticClass:"pt-6 "},[a("v-navigation-drawer",{ref:"information_panel_drawer",staticClass:"pt-6",attrs:{permanent:"",app:"",left:"",width:e.navigation.width},model:{value:e.navigation.shown,callback:function(t){e.$set(e.navigation,"shown",t)},expression:"navigation.shown"}},[a("Samplesheet",{attrs:{samplesheet:e.samplesheetdata,queueLength:e.queueLength,bundleconfig:e.bundleconfig,seen:e.samplekeys,current:e.current,queueList:e.status,anyRunning:e.anyRunning,pausedServer:e.pausedServer,logs:e.logs,samplesheetName:e.samplesheet},on:{sendNewWatch:e.sendNewWatch,sendMessage:e.sendMessage,cancel:e.cancel,updateData:e.updateData,barcode:e.barcode,rerun:e.rerun,pausedChange:e.pausedChange,updateConfig:e.updateConfig,deleteRow:e.deleteRow}}),a("div",{staticStyle:{"overflow-y":"auto"},attrs:{id:"file"},on:{drop:function(t){return t.preventDefault(),e.addDropFileData.apply(null,arguments)},dragover:function(e){e.preventDefault()}}},[a("v-file-input",{attrs:{hint:"Add Another Kraken2 Report File","persistent-hint":"",counter:"","show-size":"",overlap:""},on:{input:e.addData},model:{value:e.recentDataFileadded,callback:function(t){e.recentDataFileadded=t},expression:"recentDataFileadded"}})],1),a("div",{staticClass:"mx-4"},[a("v-autocomplete",{staticClass:"mt-3",attrs:{items:e.selectedsamplesAll,chips:"",outlined:"",label:"Samples",multiple:""},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[a("v-list-item",{attrs:{ripple:""},on:{mousedown:function(e){e.preventDefault()},click:e.toggleSamples}},[a("v-list-item-action",[a("v-icon",{attrs:{color:e.selectedsamples.length>0?"indigo darken-4":""}},[e._v(" "+e._s(e.icon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" Select All ")])],1)],1),a("v-divider",{})]},proxy:!0},{key:"selection",fn:function(t){var n=t.attr,s=t.on,i=t.item,r=t.selected;return[a("v-chip",e._g(e._b({staticClass:"white--text ",attrs:{small:"","input-value":r,color:"blue-grey"}},"v-chip",n,!1),s),[e.current&&e.current[i]?a("v-progress-circular",{attrs:{indeterminate:"",color:"white",small:"",size:"15"}}):a("v-icon",{attrs:{small:"",color:(e.samplekeys&&e.samplekeys.indexOf(i),"white")}},[e._v(" "+e._s(!e.status[i]||e.status[i]&&-1!=e.status[i].success?"mdi-check-circle":"mdi-exclamation")+" ")]),a("span",{staticClass:"ml-2",domProps:{textContent:e._s(i)}}),e.manuals[i]?a("v-icon",{attrs:{small:"",color:"white"},on:{click:function(t){return e.deleteRow(i)}}},[e._v(" mdi-cancel ")]):e._e()],1)]}}]),model:{value:e.selectedsamples,callback:function(t){e.selectedsamples=t},expression:"selectedsamples"}}),a("v-spacer",{staticClass:"py-0"}),a("v-text-field",{attrs:{hint:"Max Depth of Tax Tree","persistent-hint":"","single-line":"",type:"number"},model:{value:e.maxDepth,callback:function(t){e.maxDepth=t},expression:"maxDepth"}}),a("v-text-field",{attrs:{hint:"Min Depth of Tax Tree","persistent-hint":"","single-line":"",type:"number"},model:{value:e.minDepth,callback:function(t){e.minDepth=t},expression:"minDepth"}}),a("v-spacer",{staticClass:"py-4"}),a("v-text-field",{attrs:{hint:"Min Percent in Sample","persistent-hint":"","single-line":"",type:"number"},model:{value:e.minPercent,callback:function(t){e.minPercent=t},expression:"minPercent"}}),a("v-slider",{attrs:{min:0,step:.005,max:1},model:{value:e.minPercent,callback:function(t){e.minPercent=t},expression:"minPercent"}}),a("v-spacer",{staticClass:"py-4"}),a("v-select",{attrs:{label:"Tax Rank Codes",multiple:"",items:e.defaultsList,"item-text":"value","item-value":"value","persistent-hint":""},on:{change:e.filter},scopedSlots:e._u([{key:"prepend-item",fn:function(){return[a("v-list-item",{attrs:{ripple:""},on:{mousedown:function(e){e.preventDefault()},click:e.toggle}},[a("v-list-item-action",[a("v-icon",{attrs:{color:e.defaults.length>0?"indigo darken-4":""}},[e._v(" "+e._s(e.icon)+" ")])],1),a("v-list-item-content",[a("v-list-item-title",[e._v(" Select All ")])],1)],1),a("v-divider",{staticClass:"mt-2"})]},proxy:!0}]),model:{value:e.defaults,callback:function(t){e.defaults=t},expression:"defaults"}})],1)],1)],1),a("v-main",["Connected"!=e.connectedStatus?a("v-alert",{attrs:{type:"error"}},[e._v(e._s(e.connectedStatus))]):e._e(),a("v-row",{staticClass:"ml-4"},[a("v-col",{staticClass:"overflow-y-auto  my-0",attrs:{sm:"12",id:""}},[a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabs,(function(t,n){return a("v-tab-item",{key:n+"-item",attrs:{"align-with-title":""}},[a("v-container",{staticClass:"my-3"},[a(t.component,{tag:"component",attrs:{sampleData:e.selectedData,bundleconfig:e.bundleconfig,namesData:e.uniquenametypes,fullsize:e.fullsize,selectedsamples:e.selectedsamples,socket:e.socket}})],1)],1)})),1)],1)],1)],1)],1)},i=[],r=a(8534),l=(a(5666),a(7941),a(1249),a(7327),a(1539),a(4916),a(5306),a(4553),a(561),a(8309),a(7042),a(3123),a(4747),a(4603),a(8450),a(8386),a(9714),a(4723),a(3210),a(2222),a(1038),a(8783),a(1703),a(4765),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{ref:"boxContainer"},[a("v-toolbar-title",[e._v(" Top Taxa Calls Per Sample ")]),a("v-row",[a("v-col",{attrs:{sm:"12"}},[a("div",{staticStyle:{display:"flex"}},[a("v-text-field",{attrs:{hint:"Maximum Taxa Seen per sample","persistent-hint":"",outlined:"","single-line":"",dense:"",type:"number",min:"1"},model:{value:e.top_n,callback:function(t){e.top_n=t},expression:"top_n"}}),a("v-spacer"),a("v-select",{attrs:{solo:"",items:e.grouponSelections,"item-value":"value","item-text":"name",hint:"Select Group By Value","single-line":"","return-object":"","persistent-hint":""},model:{value:e.groupon,callback:function(t){e.groupon=t},expression:"groupon"}}),a("v-select",{attrs:{solo:"",items:e.valueAttrSelections,"item-value":"value","item-text":"name",hint:"Choose Cell Values","single-line":"","return-object":"","persistent-hint":""},model:{value:e.valueAttr,callback:function(t){e.valueAttr=t},expression:"valueAttr"}})],1),a("div",{staticStyle:{position:"relative",background:"none","padding-bottom":"0px","background-opacity":"0.5",width:"100%","overflow-y":"auto","overflow-x":"auto"},attrs:{id:"platesDiv"}})])],1)],1)}),o=[],c=a(9584),u=a(6084),d=(a(9720),a(2707),a(189),a(3948),a(9600),a(6977),a(6693)),m={name:"Plates",props:["inputdata","socket","samplenames","selectedTaxid","selectedAttribute","legendPlacement","selectedNameAttr"],watch:{groupon:function(e){this.makePlot()},valueAttr:function(e){this.makePlot()},selectedAttribute:function(e){e&&this.makePlot()},selectedNameAttr:function(e){this.makePlot()},top_n:function(){this.makePlot()},samplenames:function(e){e&&this.makePlot()},inputdata:{deep:!0,handler:function(e){e&&this.makePlot()}}},data:function(){return{width:500,valueAttr:{value:"num_fragments_clade_fraction",name:"Percent of entire report for clade"},valueAttrSelections:[{value:"value",name:"Relative Percent at Rank"},{value:"num_fragments_assigned_fraction",name:"Percent of entire report for specific taxa"},{value:"num_fragments_clade_fraction",name:"Percent of entire report for clade"},{value:"num_fragments_clade",name:"Raw Framents Assigned to clade"},{value:"num_fragments_assigned",name:"Raw Fragments Assigned Specific Taxa"}],groupon:{value:"target",name:"Taxonomic Name"},grouponSelections:[{value:"target",name:"Taxonomic Name"},{value:"taxid",name:"Taxid"},{value:"source",name:"Parent Tax Name"}],parseddata:{},fullsize:{},height:500,top_n:11,dimensions:{windowHeight:0,windowWidth:0,height:0,width:0}}},methods:{getText:function(e){var t=this;return t.selectedNameAttr?"default (scientific name)"==t.selectedNameAttr?e.target:e.objfull&&e.objfull[t.selectedNameAttr]&&e.objfull[t.selectedNameAttr].length>0?e.objfull[t.selectedNameAttr][0]:e.target:e.target},makePlot:function(){var e=this,t=d.td_("#platesDiv");d.td_("#svgPlates").remove(),d.td_("#svgLegend").remove();for(var a=Object.keys(this.inputdata),n=[],s=function(){var t=(0,u.Z)(r[i],2),a=t[0],s=t[1];if(s){var l=s.filter((function(t){return t.rank_code==e.selectedAttribute}));e.fullsize[a]=d.Smz(s,(function(e){return e.num_fragments_assigned}));var o=d.Q3u(l,(function(t){return d.Smz(t,(function(t){return t.num_fragments_assigned_fraction=t.num_fragments_assigned/e.fullsize[a],t.num_fragments_clade_fraction=t.num_fragments_clade/e.fullsize[a],t[e.valueAttr.value]}))}),(function(t){return"taxid"==e.groupon.value?"".concat(t.target,"-").concat(t.source," (").concat(t[e.groupon.value],")"):t[e.groupon.value]})),c=o.sort((function(e,t){return t[1]-e[1]})),m=e.top_n;if(e.parseddata[a]=c,c.length>0)for(var p=0;p<m;p++)p<c.length&&isFinite(c[p][1])&&n.push({name:a,top:c[p][0],abu:c[p][1]})}},i=0,r=Object.entries(this.inputdata);i<r.length;i++)s();var l=this;this.selectedNameAttr&&"default (scientific name)"==!this.selectedNameAttr&&this.selectedNameAttr;for(var o={},m=(0,c.Z)(new Set(n.filter((function(e){return"Nothing"!==e.top})).map((function(t){if(t.top&&-1!==t.top)return o[t.top]="".concat(e.getText(t.top)),t.top})))),p={},f=0,h=Object.entries(this.parseddata);f<h.length;f++){var v=(0,u.Z)(h[f],2),g=v[0],x=v[1];if(g){var b=d.BYU().range(["#5ff4ff","#c42bd4"]).domain(d.Wem(x,(function(e){return e[1]})));p[g]=b}}var y=t.node();function k(e,t){e.each((function(){var e,a=d.Ys(this),n=a.text().split(/\s+/).reverse(),s=[],i=0,r=1,l=a.attr("y"),o=parseFloat(a.attr("dy")),c=a.text(null).append("tspan").attr("x",0).attr("y",l).attr("dy",o+"em");while(e=n.pop())s.push(e),c.text(s.join(" ")),c.node().getComputedTextLength()>t&&(s.pop(),c.text(s.join(" ")),s=[e],c=a.append("tspan").attr("x",0).attr("y",l).attr("dy","".concat(++i*r+o,"em")).text(e))}))}this.width=y.getBoundingClientRect().width,this.boxHeight=40;var _={top:50,right:30,bottom:100,left:150};this.height=this.boxHeight*a.length+_.top+1.5*this.boxHeight,d.Ys("#platesDiv").style("height","".concat(this.height," px"));var w=this.width-_.left-_.right,S=this.height-_.top-_.bottom;this.margin=_,this.boxWidth=(w-this.margin.left-this.margin.right)/m.length;var C=d.sPX().scaleExtent([1,3]).translateExtent([[0-this.margin.left,0-this.margin.top-this.boxHeight/2],[this.width,this.height]]).on("zoom",A);function A(e){return D.attr("transform",e.transform)}var D=t.append("svg").attr("id","svgPlates").attr("width","100%").attr("preserveAspectRatio","xMinYMin meet").attr("viewBox","0 0 ".concat(this.width," ").concat(S+_.top+_.bottom)).classed("svg-content",!0).style("cursor","pointer").call(C).append("g").attr("transform","translate("+_.left+","+_.top+")"),T=d.PKp().domain([]).range(m.map((function(t,a){return a*e.boxWidth+e.margin.left-e.margin.right}))),Z=d.PKp().domain(a).range(a.map((function(t,a){return a*e.boxHeight+e.margin.top-e.margin.bottom}))),R=D.selectAll("g.nodestop2").data(n).join("g").attr("class","nodestop2").attr("transform",(function(e){return"translate(".concat(T(e.top),", ").concat(Z(e.name),")")}));R.append("rect").attr("width",this.boxWidth).attr("height",this.boxHeight).style("fill",(function(e){return e.abu&&e.abu<=100?p[e.name]("".concat(e.abu)):"white"})),R.append("text").classed("nodeText",!0).attr("font-family","sans-serif").attr("font-size","0.75em").attr("x",this.boxWidth/2).attr("y",(function(){return e.boxHeight/2})).attr("dominant-baseline","middle").attr("text-anchor","middle").text((function(t){return t.abu?"num_fragments_clade"!=e.valueAttr.value&&"num_fragments_assigned"!=e.valueAttr.value?"".concat(t.abu.toFixed(2),"%"):"".concat(t.abu):""}));var V=d.LLu().scale(T).tickFormat((function(e,t){return e})),P={},I={},L=D.append("g").attr("transform","translate("+this.boxWidth/2+","+(this.height-this.margin.bottom-this.margin.top)+")").attr("class","xAxisPlate").style("font-size","1px").call(V);L.selectAll("text").style("font-size",22).style("overflow","auto").attr("transform","rotate(0)").style("text-anchor","middle"),L.selectAll(".tick text").call(k,l.margin.bottom),L.selectAll("text").style("font-size","1px").each($).style("font-size",(function(e){return I[e]+"px"}));var j=d.y4O().scale(Z),N=D.append("g").attr("transform","translate("+this.margin.left/2+","+this.boxHeight/2+")").attr("class","yAxis").style("font-size","1px").call(j);function O(e){var t=this.getBBox(),a=l.margin.left+l.margin.left/2,n=Math.min(a/t.width/1.2,l.boxWidth);return P[e]=n,e}function $(e){var t=this.getBBox(),a=l.margin.bottom-l.margin.top,n=Math.min(a/t.height,l.height,l.boxWidth/1.2/t.width);return I[e]=n,e}N.selectAll("text").style("font-size","1px").each(O).style("font-size",(function(e){return P[e]+"px"}))}},mounted:function(){this.inputdata&&this.makePlot()}},p=m,f=a(3736),h=a(3453),v=a.n(h),g=a(266),x=a(2118),b=a(1713),y=a(7135),k=a(3687),w=a(7808),S=a(7953),C=(0,f.Z)(p,l,o,!1,null,null,null),A=C.exports;v()(C,{VCol:g.Z,VContainer:x.Z,VRow:b.Z,VSelect:y.Z,VSpacer:k.Z,VTextField:w.Z,VToolbarTitle:S.qW});var D=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",[a("v-col",{attrs:{sm:"12"}},[0==e.dataSamples.length?a("v-alert",{attrs:{type:"warning"}},[e._v(" Your Datasheet is Empty, please add rows manually or upload your own Samplesheet.csv file ")]):e._e(),a("v-toolbar",{attrs:{extended:""},scopedSlots:e._u([{key:"extension",fn:function(){return[a("div",{staticClass:"mb-4 mt-3",staticStyle:{display:"flex"}},[a("div",{staticStyle:{"overflow-y":"auto"},attrs:{id:"filedropfilename"},on:{drop:function(t){return t.preventDefault(),e.addDropFile.apply(null,arguments)},dragover:function(e){e.preventDefault()}}},[a("v-file-input",{attrs:{width:"100px",hint:e.samplesheetName,"persistent-hint":"",counter:"","show-size":"",overlap:""},model:{value:e.name,callback:function(t){e.name=t},expression:"name"}})],1),e.dataSamples.length>0?a("vue-json-to-csv",{attrs:{"csv-title":e.CSVTITLE,"json-data":e.dataSamples}},[a("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({attrs:{fab:"",dark:"","x-small":""}},n),[a("v-icon",[e._v("mdi-download")])],1)]}}],null,!1,4077979467)},[e._v(" Download Samplesheet ")])],1):e._e()],1)]},proxy:!0}])},[a("v-btn",{attrs:{color:"black lighten-2",dark:""},on:{click:function(t){e.sheet=!0}}},[e._v(" Logs "),a("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({staticClass:"ml-2",attrs:{small:""}},n),[e._v("mdi-comment")])]}}])},[e._v(" View Logging ")])],1),a("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"mx-2",attrs:{fab:"",color:"info","x-small":""},on:{click:function(t){return e.forceRestart()}}},n),[a("v-icon",[e._v("mdi-restart")])],1)]}}])},[e._v(" Restart All Jobs ")]),a("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"mx-2",attrs:{color:"primary ",dark:"","x-small":"",fab:""},on:{click:function(t){return e.flush()}}},n),[a("v-icon",[e._v("mdi-close-circle-multiple-outline")])],1)]}}])},[e._v(" Stop All Jobs ")]),e.paused?e._e():a("v-tooltip",{key:e.paused+"-pausedbutton",scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-badge",{attrs:{color:"green lighten-2",overlap:"",content:""+(e.queueLength>0?e.queueLength:"")}},[a("v-btn",e._g({staticClass:"mx-2 ",attrs:{color:"orange ",dark:"",fab:"","x-small":""},on:{click:function(t){e.paused=!0}}},n),[a("v-icon",[e._v("mdi-pause-circle")])],1)],1)]}}],null,!1,259829553)},[e._v(" Pause Queued Jobs ")]),e.paused?a("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-btn",e._g({staticClass:"mx-2",attrs:{color:"secondary ",dark:"",fab:"","x-small":""},on:{click:function(t){e.paused=!1}}},n),[a("v-icon",[e._v("mdi-play-box")])],1)]}}],null,!1,1797491558)},[e._v(" Resume Jobs Waiting ")]):e._e(),a("v-dialog",{attrs:{"max-width":"500px"},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mx-2",attrs:{fab:"",color:"primary",dark:"","x-small":""}},"v-btn",s,!1),n),[a("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("mdi-plus")])]}}],null,!0)},[e._v(" Add Entry To Samplesheet ")])],1)]}}]),model:{value:e.dialog,callback:function(t){e.dialog=t},expression:"dialog"}},[a("v-card",[a("v-card-title",[a("span",{staticClass:"text-h5"},[e._v(e._s(e.formTitle))])]),a("v-card-text",[a("v-container",[a("v-row",[a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Sample Name"},model:{value:e.editedItem.sample,callback:function(t){e.$set(e.editedItem,"sample",t)},expression:"editedItem.sample"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-switch",{attrs:{label:"Demultiplex Sample"},model:{value:e.editedItem.demux,callback:function(t){e.$set(e.editedItem,"demux",t)},expression:"editedItem.demux"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Pattern to Catch from path/demux output"},model:{value:e.editedItem.pattern,callback:function(t){e.$set(e.editedItem,"pattern",t)},expression:"editedItem.pattern"}})],1),e.editedItem.demux?a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Barcode Kit Name"},model:{value:e.editedItem.kits,callback:function(t){e.$set(e.editedItem,"kits",t)},expression:"editedItem.kits"}})],1):e._e(),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Path 1"},model:{value:e.editedItem.path_1,callback:function(t){e.$set(e.editedItem,"path_1",t)},expression:"editedItem.path_1"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Path 2"},model:{value:e.editedItem.path_2,callback:function(t){e.$set(e.editedItem,"path_2",t)},expression:"editedItem.path_2"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-text-field",{attrs:{label:"Database"},model:{value:e.editedItem.database,callback:function(t){e.$set(e.editedItem,"database",t)},expression:"editedItem.database"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["file","directory"],label:"Type/Format"},model:{value:e.editedItem.format,callback:function(t){e.$set(e.editedItem,"format",t)},expression:"editedItem.format"}})],1),a("v-col",{attrs:{cols:"12",sm:"6",md:"4"}},[a("v-select",{attrs:{items:["oxford","illumina"],label:"Platform"},model:{value:e.editedItem.platform,callback:function(t){e.$set(e.editedItem,"platform",t)},expression:"editedItem.platform"}})],1)],1)],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"blue darken-1",text:"","x-small":""},on:{click:e.closeItem}},[e._v(" Cancel ")]),a("v-btn",{attrs:{color:"blue darken-1","x-small":"",text:""},on:{click:e.saveItem}},[e._v(" Save ")])],1)],1)],1),a("v-dialog",{attrs:{"max-width":"500px"},model:{value:e.dialogDelete,callback:function(t){e.dialogDelete=t},expression:"dialogDelete"}},[a("v-card",[a("v-card-title",{staticClass:"text-h5"},[e._v("Are you sure you want to delete this item?")]),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{"x-small":"",color:"blue darken-1",text:""},on:{click:e.closeDelete}},[e._v("Cancel")]),a("v-btn",{attrs:{"x-small":"",color:"blue darken-1",text:""},on:{click:e.deleteItemConfirm}},[e._v("OK")]),a("v-spacer")],1)],1)],1),a("v-dialog",{scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-btn",e._g(e._b({staticClass:"mx-4",attrs:{color:"red lighten-2",dark:"",fab:"","x-small":""}},"v-btn",s,!1),n),[a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({},n),[e._v("mdi-cog")])]}}],null,!0)},[e._v(" Advanced Configurations ")])],1)]}}]),model:{value:e.dialogAdvanced,callback:function(t){e.dialogAdvanced=t},expression:"dialogAdvanced"}},[a("v-toolbar",{attrs:{extended:"",dark:""},scopedSlots:e._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":"",color:"basil"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"purple"}}),e._l(e.tabs,(function(t,n){return a("v-tab",{key:n+"-tab"},[e._v(" "+e._s(t)+" ")])}))],2)]},proxy:!0}])}),a("v-tabs-items",{attrs:{width:"100%"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tab-item",{key:"one"},[e.stagedBundleConfig?a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Names Mapping Config ")]),a("v-list",e._l(Object.entries(e.stagedBundleConfig),(function(t){var n=t[0],s=t[1];return a("v-list-item",{key:n+"-advancedbundled"},[s&&"object"!=typeof s?e._e():a("v-sheet",{attrs:{width:"100%"}},["boolean"==typeof s.value?a("v-checkbox",{attrs:{label:n+": -"+e.stagedBundleConfig[n].arg},model:{value:e.stagedBundleConfig[n].value,callback:function(t){e.$set(e.stagedBundleConfig[n],"value",t)},expression:"stagedBundleConfig[key].value"}}):"number"==typeof s.value?a("v-text-field",{attrs:{type:"number",label:n+": -"+e.stagedBundleConfig[n].arg},model:{value:e.stagedBundleConfig[n].value,callback:function(t){e.$set(e.stagedBundleConfig[n],"value",t)},expression:"stagedBundleConfig[key].value"}}):a("v-text-field",{attrs:{label:n+": -"+e.stagedBundleConfig[n].arg},model:{value:e.stagedBundleConfig[n].value,callback:function(t){e.$set(e.stagedBundleConfig[n],"value",t)},expression:"stagedBundleConfig[key].value"}})],1)],1)})),1),a("v-card-actions",[a("v-btn",{attrs:{small:"",type:"info","x-small":""},on:{click:function(t){return e.updateConfig("bundle")}}},[e._v(" Update Config ")])],1)],1):e._e()],1),a("v-tab-item",{key:"two"},[a("v-card",[a("v-card-title",{staticClass:"text-h5 grey lighten-2"},[e._v(" Kraken2 Advanced commands ")]),a("v-list",e._l(Object.entries(e.config),(function(t){var n=t[0],s=t[1];return a("v-list-item",{key:n+"-advancedkraken2"},["boolean"==typeof s?a("v-checkbox",{attrs:{label:"--"+n+"?"},model:{value:e.config[n],callback:function(t){e.$set(e.config,n,t)},expression:"config[key]"}}):a("v-text-field","number"==typeof s?{attrs:{type:"number",label:"--"+n},model:{value:e.config[n],callback:function(t){e.$set(e.config,n,t)},expression:"config[key]"}}:{attrs:{label:"--"+n},model:{value:e.config[n],callback:function(t){e.$set(e.config,n,t)},expression:"config[key]"}})],1)})),1),a("v-card-actions",[a("v-btn",{attrs:{small:"",type:"info","x-small":""},on:{click:function(t){return e.updateConfig("kraken2")}}},[e._v(" Update Config ")])],1)],1)],1)],1)],1)],1),a("v-spacer"),a("v-dialog",{attrs:{inset:""},model:{value:e.sheet,callback:function(t){e.sheet=t},expression:"sheet"}},[a("v-card",{staticClass:"text-left logDiv ",staticStyle:{overflow:"auto"}},[a("v-toolbar",{attrs:{dark:""}},[a("v-toolbar-title",[e._v("Server Logs")]),a("v-spacer"),a("v-btn",{attrs:{icon:"","x-large":"",fab:""},on:{click:function(t){e.sheet=!1}}},[a("v-icon",{attrs:{large:""}},[e._v("mdi-close-circle")])],1)],1),a("v-card-text",{staticClass:"my-3 mb-2",staticStyle:{"max-height":"80vh","overflow-y":"auto"}},e._l(e.logs.slice().reverse(),(function(t,n){return a("span",{key:"sheet"+n},["error"==t.level?a("v-icon",{attrs:{dark:"",left:"",color:"red"}},[e._v(" mdi-alert-circle-outline ")]):a("v-icon",{attrs:{dark:"",left:"",color:"blue"}},[e._v(" mdi-information ")]),a("code",[e._v(e._s(t.message))]),a("br")],1)})),0)],1)],1),a("v-navigation-drawer",{staticStyle:{"min-width":"500px"},attrs:{absolute:"",app:"",temporary:""},model:{value:e.drawerSample,callback:function(t){e.drawerSample=t},expression:"drawerSample"}},e._l(Object.keys(e.selectedSampleObj).filter((function(e){return"sample"!=e&&"active"!=e})),(function(t){return a("v-list-item",{key:t+"-"+e.selectedSampleObj.sample,staticClass:"mx-10",style:{"text-align":"left","overflow-wrap":"break-word"}},[a("v-list-item-content",{staticClass:"mx-0",style:{"text-align":"left","overflow-wrap":"break-word"}},[a("v-list-item-title",{staticClass:"font-weight-bold"},[e._v(e._s(t))]),""!=e.selectedSampleObj[t]&&e.selectedSampleObj[t]?e._e():a("v-list-item-subtitle",{},[e._v("(Empty)")]),"boolean"==e.adjustable[t]["type"]?a("v-switch",{model:{value:e.selectedSampleObj[t],callback:function(a){e.$set(e.selectedSampleObj,t,a)},expression:"selectedSampleObj[key4]"}}):"list"==e.adjustable[t]["type"]?a("v-select",{attrs:{solo:"",items:e.adjustable[t].values,label:"Select","single-line":""},model:{value:e.selectedSampleObj[t],callback:function(a){e.$set(e.selectedSampleObj,t,a)},expression:"selectedSampleObj[key4]"}}):"string"==e.adjustable[t].type?a("v-edit-dialog",{attrs:{"return-value":e.selectedSampleObj[t],large:"",rules:[e.containsPlatform],persistent:""},on:{"update:returnValue":function(a){return e.$set(e.selectedSampleObj,t,a)},"update:return-value":function(a){return e.$set(e.selectedSampleObj,t,a)},save:e.save,cancel:e.cancel,open:e.open,close:e.close},scopedSlots:e._u([{key:"input",fn:function(){return[a("div",{staticClass:"mt-4 text-h6"},[e._v(" Update Value ")]),a("v-text-field",{attrs:{label:"Edit","single-line":"",counter:"",autofocus:""},model:{value:e.selectedSampleObj[t],callback:function(a){e.$set(e.selectedSampleObj,t,a)},expression:"selectedSampleObj[key4]"}})]},proxy:!0}],null,!0)},[a("div",{staticStyle:{display:"flex"}},[a("code",{staticClass:"overflow-auto"},[e._v(e._s(e.selectedSampleObj[t]))]),a("v-spacer",{staticClass:"mx-10"})],1)]):e._e()],1)],1)})),1),a("v-list",{style:{"align-items":"left",padding:0,margin:0},attrs:{dense:""}},e._l(e.samples,(function(t){return a("v-list-item",{key:t.sample,attrs:{"no-action":""},model:{value:t.active,callback:function(a){e.$set(t,"active",a)},expression:"sample.active"}},[a("v-list-item-content",[a("v-list-item-title",[e._v(e._s(t.sample))])],1),a("v-list-item-action",[a("div",{staticStyle:{display:"flex"}},[a("v-tooltip",{scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on,i=n.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"indigo"},on:{click:function(a){return e.forceRestart(t)}}},"v-icon",i,!1),s),[e._v(" "+e._s(t.demux?"mdi-view-week":"mdi-play-circle")+" ")])]}}],null,!0)},[a("span",[e._v(e._s(t.demux?"Demux a directory of fastq files":"Classify the path of fastq(s)")+" ")])]),a("span",[e._v(e._s(t.demux?"Demux":"Classify")+" ")])],1)]),a("v-list-item-action",[a("v-btn",{attrs:{fab:"","x-small":""},on:{click:function(a){e.selectedSample=e.queueList[t.sample],e.dialogJobs=!0}}},[a("v-icon",[e._v("mdi-comment")])],1)],1),a("v-spacer"),a("v-list-item-action",[a("v-icon",{attrs:{medium:"",color:""},on:{click:function(a){return e.editItem(t)}}},[e._v(" mdi-pencil ")]),e.current&&"object"==typeof e.current&&e.current[t.sample]?a("v-progress-circular",{attrs:{indeterminate:"",color:"primary",medium:"",size:"22"}}):"run"!==t.format?a("v-icon",{key:t.sample+"-runsamplemajorbutton",attrs:{medium:"",color:e.anyCompleted(t.sample)?"green":"orange"}},[e._v(" "+e._s(e.anyCompleted(t.sample)?"mdi-check-circle":"mdi-exclamation")+" ")]):e._e()],1),a("v-list-item-action",[a("v-tooltip",{attrs:{left:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on,i=n.attrs;return[a("v-icon",e._g(e._b({attrs:{medium:"",color:"indigo"},on:{click:function(a){return e.cancelJob(null,t.sample)}}},"v-icon",i,!1),s),[e._v(" mdi-cancel ")])]}}],null,!0)},[a("span",[e._v("Cancel Sample Job(s)")])]),a("v-icon",{attrs:{medium:"",color:"orange"},on:{click:function(a){return e.deleteItem(t)}}},[e._v(" mdi-delete ")])],1),a("v-list-item-icon",[a("v-btn",{attrs:{fab:"","x-small":""},on:{click:function(a){e.drawerSample=!0,e.selectedSampleObj=t}}},[a("v-icon",[e._v(" "+e._s(e.drawerSample?"mdi-arrow-down":"mdi-arrow-up"))])],1)],1)],1)})),1)],1),e.dialogQueue?a("v-dialog",{staticStyle:{"overflow-x":"auto",width:"100%"},attrs:{absolute:""},model:{value:e.dialogQueue,callback:function(t){e.dialogQueue=t},expression:"dialogQueue"}},[a("v-card",{staticClass:"mx-auto",staticStyle:{"overflow-y":"auto",width:"100%"},attrs:{outlined:""}},[a("v-list-item",{attrs:{dense:"","three-line":""}},[a("v-list-item-content",{attrs:{dense:""}},[a("div",{},[e.selectedSampleIndex.status.running?a("v-progress-circular",{attrs:{indeterminate:"",color:"primary",size:"15"}}):0==e.selectedSampleIndex.status.success&&e.selectedSampleIndex.status.historical?a("v-tooltip",{attrs:{dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({attrs:{large:"",color:"green",dark:""}},n),[e._v(" mdi-history ")])]}}],null,!1,3653186912)},[e._v(" Already run ")]):0==e.selectedSampleIndex.status.success?a("v-tooltip",{attrs:{dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({attrs:{large:"",color:"green",dark:""}},n),[e._v(" mdi-check-circle ")])]}}],null,!1,2035924251)},[e._v(" Completed Successfully ")]):0!=e.selectedSampleIndex.status.success?a("v-tooltip",{attrs:{dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({attrs:{large:"",color:"orange",dark:""}},n),[e._v(" mdi-exclamation ")])]}}],null,!1,3361264074)},[e._v(" Error in Completing Job, Check Logs ")]):e._e()],1),a("v-list-item-title",{staticClass:"text-h5 mb-1"},[e._v(" "+e._s(e.selectedSampleIndex.name)+" ")]),a("v-list-item-subtitle",[e._v(" "+e._s(e.selectedSampleIndex.filepath)+" ")])],1)],1),a("v-card-actions",[a("v-spacer"),a("v-btn",{attrs:{color:"primary",text:""},on:{click:function(t){e.dialogQueue=!1}}},[e._v(" Close ")])],1),a("v-card-text",{staticClass:"text-sm-left",staticStyle:{"white-space":"pre-wrap"}},[a("code",{staticClass:"text-sm-left ",staticStyle:{"white-space":"pre-wrap"}},[e._v(e._s(e.selectedSampleIndex.command))]),e._l(e.selectedSampleIndex.status.logs,(function(t,n){return a("code",{key:n+"-logQueue",staticStyle:{"white-space":"pre-wrap"}},[e._v(" "+e._s(t)+" "),a("v-divider")],1)}))],2),a("v-divider")],1)],1):e._e(),e.dialogJobs?a("v-dialog",{model:{value:e.dialogJobs,callback:function(t){e.dialogJobs=t},expression:"dialogJobs"}},[a("v-data-iterator",{staticClass:"grey lighten-3",attrs:{items:e.selectedSample,"items-per-page":e.itemsPerPage,page:e.page,search:e.search,"sort-by":e.sortBy.toLowerCase(),"sort-desc":e.sortDesc},on:{"update:itemsPerPage":function(t){e.itemsPerPage=t},"update:items-per-page":function(t){e.itemsPerPage=t},"update:page":function(t){e.page=t}},scopedSlots:e._u([{key:"header",fn:function(){return[a("v-toolbar",{staticClass:"mb-1",attrs:{dark:"",color:"blue darken-3"}},[a("v-btn",{attrs:{small:"",fab:"",color:"grey"},on:{click:function(t){e.dialogJobs=!1}}},[a("v-icon",[e._v("mdi-close")])],1),a("v-spacer"),e.selectedSample?a("v-btn",{attrs:{large:"",depressed:"",color:"blue",value:!1,disabled:e.page*e.itemsPerPage>=e.selectedSample.length},on:{click:function(t){e.page=e.page+1}}},[a("v-icon",[e._v("mdi-arrow-down")])],1):e._e(),a("v-btn",{attrs:{large:"",depressed:"",disabled:e.page<=1,color:"blue",value:!0},on:{click:function(t){e.page>1&&(e.page=e.page-1)}}},[a("v-icon",[e._v("mdi-arrow-up")])],1),a("v-spacer"),a("v-text-field",{attrs:{clearable:"",flat:"","solo-inverted":"","hide-details":"","prepend-inner-icon":"mdi-magnify",label:"Search"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}}),e.$vuetify.breakpoint.mdAndUp?[a("v-spacer"),a("v-select",{attrs:{flat:"","solo-inverted":"","hide-details":"",items:e.keys,"prepend-inner-icon":"mdi-magnify",label:"Sort by"},model:{value:e.sortBy,callback:function(t){e.sortBy=t},expression:"sortBy"}}),a("v-spacer")]:e._e()],2)]},proxy:!0},{key:"default",fn:function(t){return[a("v-row",e._l(t.items,(function(t){return a("v-col",{key:t.index+"-sampleIndex-"+t.status.running,attrs:{cols:"12",sm:"6",md:"4",lg:"4"}},[a("v-card",{staticStyle:{"overflow-x":"auto",width:"100%"},attrs:{"max-height":"200px"}},[a("v-card-title",{staticClass:"text-header-2"},[t.status.running?a("v-progress-circular",{key:t.status.running+"-running"+t.sample,attrs:{indeterminate:"",color:"primary",size:"15"}}):0==t.status.success&&t.status.historical?a("v-tooltip",{key:"queueinfo-"+t.status.historical+"-"+t.index,attrs:{dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({attrs:{small:"",color:"green",dark:""}},n),[e._v(" mdi-history ")])]}}],null,!0)},[e._v(" Already run ")]):0==t.status.success?a("v-tooltip",{attrs:{dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g({attrs:{small:"",color:"green",dark:"",bind:s}},n),[e._v(" mdi-check-circle ")])]}}],null,!0)},[e._v(" Completed Successfully ")]):t.status.error||0!=t.status.code?a("v-tooltip",{key:"queuerror-"+t.status.error+"-"+t.index,attrs:{color:"orange lighten-1",dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on,s=t.attrs;return[a("v-icon",e._g(e._b({attrs:{large:"",color:"orange lighten-1"},on:{click:function(t){e.sheet=!0}}},"v-icon",s,!1),n),[e._v(" mdi-exclamation ")])]}}],null,!0)},[a("span",[e._v(e._s(t.status.error))])]):e._e(),e._v(" "+e._s((t.sample&&t.sample.sample?t.sample.sample:"")+" ")+" "),a("v-spacer"),a("v-tooltip",{attrs:{dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("v-btn",e._g({staticClass:"px-0 mx-0",attrs:{color:"secondary",fab:"",dark:"","x-small":""},on:{click:function(a){e.selectedSampleIndex=t,e.dialogQueue=!0}}},s),[a("v-icon",{attrs:{dark:""}},[e._v(" mdi-tray-full ")])],1)]}}],null,!0)},[e._v(" Information ")]),a("v-tooltip",{key:t.index+"-"+t.name+"-Archivecancel",attrs:{dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on;return[a("v-btn",e._g({attrs:{disabled:!t.status.running,fab:"","x-small":"",color:"orange lighten-1"},on:{click:function(a){return e.cancelJob(t.index,t.name)}}},s),[a("v-icon",[e._v("mdi-cancel")])],1)]}}],null,!0)},[e._v(" Cancel ")]),a("v-tooltip",{key:t.index+"-"+t.name+"-rerunbutton",attrs:{dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(n){var s=n.on,i=n.attrs;return[a("v-btn",e._g(e._b({staticClass:"px-0 mx-0",attrs:{disabled:t.status.running,color:"blue lighten-1",fab:"",dark:"","x-small":""},on:{click:function(a){return e.start(t.index,t.name)}}},"v-btn",i,!1),s),[a("v-icon",[e._v("mdi-play")])],1)]}}],null,!0)},[e._v(" Rerun ")])],1),a("v-card-subtitle",{staticClass:"subheading"},[t.status.running||0!=t.status.success?e._e():a("v-tooltip",{key:t.index+"-"+t.name+"-arhice",attrs:{dark:"",left:""},scopedSlots:e._u([{key:"activator",fn:function(t){var n=t.on;return[a("v-icon",e._g({attrs:{small:"",color:"secondary lighten-1"}},n),[e._v(" mdi-archive ")])]}}],null,!0)},[e._v(" "+e._s(t.filepath)+" ")]),e._v(" "+e._s((t.sample?t.sample.format:"")+" - "+(t.sample&&t.sample.demux?"Demux":"Classify")+" ")+" . "+e._s(t.index)+" "+e._s(t.sample?t.sample.filepath:"")+" ")],1),a("v-divider"),a("v-list",{attrs:{dense:""}},e._l(e.attributes,(function(n){return a("v-list-item",{key:n+"-formatkey",attrs:{"two-line":""}},[a("v-list-item-content",[a("v-list-item-title",{staticStyle:{"white-space":"normal"}},[e._v(e._s(n))])],1),a("v-divider",{attrs:{vertical:""}}),a("v-list-item-content",{staticClass:"align-end"},[a("v-list-item-subtitle",{staticClass:"mx-3",staticStyle:{"white-space":"normal"}},[e._v(e._s(t.sample[n]))]),a("v-divider")],1)],1)})),1)],1)],1)})),1)]}}],null,!1,2831378809)})],1):e._e(),a("v-snackbar",{attrs:{timeout:3e3,color:e.snackColor},scopedSlots:e._u([{key:"action",fn:function(t){var n=t.attrs;return[a("v-btn",e._b({attrs:{"x-small":"",text:""},on:{click:function(t){e.snack=!1}}},"v-btn",n,!1),[e._v(" Close ")])]}}]),model:{value:e.snack,callback:function(t){e.snack=t},expression:"snack"}},[e._v(" "+e._s(e.snackText)+" ")])],1)},T=[],Z=a(2482),R=a(6493),V=a.n(R),P=a(6486),I=a.n(P),L=a(5108);a(6470);var j={name:"Samplesheet",props:["samplesheet","samplesheetName","seen","current","logs","bundleconfig","queueList","anyRunning","queueLength","pausedServer"],components:{VueJsonToCsv:V()},updated:function(){var e=this,t=this;this.$nextTick((function(){t.$el.querySelector&&t.$el.querySelector(".logDiv")&&e.scroll&&(e.$el.querySelector(".logDiv").scrollTop=e.$el.querySelector(".logDiv").scrollHeight)}))},watch:{dialog:function(e){e||this.closeItem()},pausedServer:function(e){e!=this.paused&&(L.log("server sent paused status change"),this.paused=e)},bundleconfig:function(e){this.stagedBundleConfig=e},paused:function(e){this.$emit("pausedChange",e)},queueList:function(e){L.log(e,"queuelist changed")},stagedData:function(e){for(var t=[],a=0,n=Object.entries(e);a<n.length;a++){var s=(0,u.Z)(n[a],2),i=s[0],r=s[1];"columns"!==i&&t.push(r)}this.$emit("updateData",t)},name:function(e){var t=this,a=new FileReader;function n(){return s.apply(this,arguments)}function s(){return s=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.ueB(a.result);case 2:t.stagedData=e.sent,t.stagedData=t.stagedData.filter((function(e){return e.demux=!(!e.demux||"false"==e.demux||"FALSE"==e.demux||"False"==e.demux),e.compressed=!(!e.compressed||"false"==e.compressed||"FALSE"==e.compressed||"False"==e.compressed),e.sample&&""!=e.sample}));case 4:case"end":return e.stop()}}),e)}))),s.apply(this,arguments)}a.addEventListener("load",n,!1),a.readAsText(e)},dialogDelete:function(e){e||this.closeDelete()},samplesheet:function(e){this.dataSamples=e},nextPage:function(){this.page+1<=this.numberOfPages&&(this.page+=1)},formerPage:function(){this.page-1>=1&&(this.page-=1)},updateItemsPerPage:function(e){this.itemsPerPage=e}},computed:{numberOfPages:function(){return Math.ceil(this.selectedSample.length/this.itemsPerPage)},samples:function(){return this.dataSamples},filteredKeys:function(){return this.keys.filter((function(e){return"Name"!==e}))},formTitle:function(){return-1===this.editedIndex?"New Item":"Edit Item"}},data:function(){var e;return{CSVTITLE:"Mytax2Report",snack:!1,drawerSample:!1,name:null,dialogJobs:!1,singleExpand:!0,expanded:[],scroll:!0,tab:0,page:1,itemsPerPage:9,sortBy:"name",itemsPerPageArray:[9,15,20],search:"",filter:{},sortDesc:!1,dialogAdvanced:!1,dialogQueue:!1,dialogLogs:!1,attributes:["format","platform","database","sample","demux","kits","pattern","path_1","path_2"],adjustable:{format:{type:"list",values:["file","directory"]},path_1:{type:"string"},path_2:{type:"string"},demux:{type:"boolean"},pattern:{type:"string"},kits:{type:"string"},database:{type:"string"},platform:{type:"list",values:["oxford","illumina"]}},tabs:["Script Config for Name mapping","Kraken2 Advanced Config"],advanced:!0,sheet:!1,stagedData:[],config:{},paused:!1,snackColor:"",editedItem:{sample:"",path_1:null,path_2:null,format:null,database:null,kits:null,pattern:"",platform:null},defaultItem:{sample:"",path_1:null,path_2:null,format:null,database:null,platform:null,kits:null,pattern:""},selectedSample:null,selectedSampleObj:{},selectedSampleIndex:null,dataSamples:[],editedIndex:-1,dialog:!1,dialogDelete:!1,snackText:"",stagedBundleConfig:{},containsPlatform:function(e){return"oxford"==e||"illumina"==e||"Must be oxford or illumina! (case sensitive)"},containsFormat:function(e){return"fil2e"==e||"directory"==e||"Must be file or directory! (case sensitive)"},keys:["sample","filepath"],headers:[{text:"Jobs",value:"jobs",sortable:!1},{text:"",value:"actions",sortable:!1},{text:"Demultiplex",value:"demux",type:"boolean",sortable:!1},{text:"Sample Name",value:"sample",type:"string",sortable:!0},{text:"Path 1",value:"path_1",type:"string",sortable:!0},{text:"Path 2",value:"path_2",type:"string",align:"center",sortable:!0},{text:"Format",value:"format",type:"list",values:["directory","file"],sortable:!0},(e={text:"Platform",value:"platform",type:"list"},(0,Z.Z)(e,"value",["oxford","illumina"]),(0,Z.Z)(e,"align","center"),(0,Z.Z)(e,"sortable",!0),e),{text:"Kraken2 Database",value:"database",sortable:!0,type:"string",cellClass:"text-wrap overflow-auto "},{text:"Pattern to match barcodes",value:"pattern",type:"string",sortable:!1},{text:"Barcode Kits",value:"kits",type:"string",sortable:!1}]}},mounted:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.config["memory-mapping"]=!0,e.config["gzip-compressed"]=!1,e.config["bzip2-compressed"]=!1,e.config["minimum-hit-groups"]=!1,e.config["report-minimizer-data"]=!1,e.config["report-zero-counts"]=!1,e.config["quick"]=!1,e.config["confidence"]=0,e.config["minimum-base-quality"]=0,e.dataSamples=e.samplesheet;case 10:case"end":return t.stop()}}),t)})))()},methods:{updateConfig:function(e){this.$emit("updateConfig","bundle"==e?this.stagedBundleConfig:this.config,e)},anyCompleted:function(e){try{if(this.queueList[e]){var t=this.queueList[e].some((function(e){return 0==e.status.success}));return t}return null}catch(a){return L.error(a),null}},start:function(e,t){this.$emit("rerun",e,t)},barcode:function(e){this.$emit("barcode",e)},flush:function(){this.$emit("sendMessage",{type:"flush"})},cancelJob:function(e,t){this.$emit("cancel",{type:"cancelJob",index:e,sample:t})},forceRestart:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.$emit("sendNewWatch",{overwrite:!0,sample:e});case 1:case"end":return a.stop()}}),a)})))()},addDropFile:function(e){this.name=e.dataTransfer.files[0]},save:function(){this.snack=!0,this.snackColor="success",this.snackText="Data saved"},cancel:function(){this.snack=!0,this.snackColor="error",this.snackText="Canceled"},open:function(){this.snack=!0,this.snackColor="info",this.snackText="Dialog opened"},close:function(){L.log("Dialog closed")},deleteItem:function(e){this.editedIndex=this.dataSamples.indexOf(e),this.editedItem=Object.assign({},e),this.dialogDelete=!0},deleteItemConfirm:function(){var e=this.dataSamples[this.editedIndex];this.dataSamples.splice(this.editedIndex,1),this.closeDelete(),e&&e.sample&&this.$emit("deleteRow",e.sample)},editItem:function(e){this.editedIndex=I().cloneDeep(this.dataSamples.indexOf(e)),this.editedItem=Object.assign({},e),this.dialog=!0},closeItem:function(){var e=this;this.dialog=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},closeDelete:function(){var e=this;this.dialogDelete=!1,this.$nextTick((function(){e.editedItem=Object.assign({},e.defaultItem),e.editedIndex=-1}))},saveItem:function(){this.editedIndex>-1?(Object.assign(this.dataSamples[this.editedIndex],this.editedItem),this.$set(this.dataSamples,this.editedIndex,this.editedItem)):this.dataSamples.push(this.editedItem),this.closeItem()}}},N=j,O=a(3694),$=a(3272),z=a(4562),B=a(9582),E=a(4886),M=a(3486),F=a(8077),q=a(4061),W=a(9223),U=a(5130),H=a(1625),J=a(4324),Y=a(5808),K=a(4525),Q=a(5187),G=a(60),X=a(4611),ee=a(9709),te=a(3305),ae=a(7423),ne=a(9258),se=a(9884),ie=a(626),re=a(2710),le=a(8263),oe=a(5085),ce=a(1475),ue=a(6313),de=a(2082),me=(0,f.Z)(N,D,T,!1,null,null,null),pe=me.exports;v()(me,{VAlert:O.Z,VBadge:$.Z,VBtn:z.Z,VCard:B.Z,VCardActions:E.h7,VCardSubtitle:E.Qq,VCardText:E.ZB,VCardTitle:E.EB,VCheckbox:M.Z,VCol:g.Z,VContainer:x.Z,VDataIterator:F.Z,VDialog:q.Z,VDivider:W.Z,VEditDialog:U.Z,VFileInput:H.Z,VIcon:J.Z,VList:Y.Z,VListItem:K.Z,VListItemAction:Q.Z,VListItemContent:G.km,VListItemIcon:X.Z,VListItemSubtitle:G.oZ,VListItemTitle:G.V9,VNavigationDrawer:ee.Z,VProgressCircular:te.Z,VRow:b.Z,VSelect:y.Z,VSheet:ae.Z,VSnackbar:ne.Z,VSpacer:k.Z,VSwitch:se.Z,VTab:ie.Z,VTabItem:re.Z,VTabs:le.Z,VTabsItems:oe.Z,VTabsSlider:ce.Z,VTextField:w.Z,VToolbar:ue.Z,VToolbarTitle:S.qW,VTooltip:de.Z});var fe=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",[a("v-row",[a("v-col",{attrs:{sm:"12"}},[a("v-toolbar",{attrs:{extended:"",dark:""},scopedSlots:e._u([{key:"extension",fn:function(){return[a("v-tabs",{attrs:{"align-with-title":"",color:"basil"},model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},[a("v-tabs-slider",{attrs:{color:"purple"}}),e._l(e.tabs,(function(t,n){return a("v-tab",{key:n+"-tab"},[a("v-icon",{staticClass:"mr-2"},[e._v(" mdi-"+e._s(t.icon)+" ")]),e._v(" "+e._s(t.name)+" ")],1)}))],2),1==e.tab||2==e.tab?a("v-select",{key:e.legendPlacement,staticStyle:{"padding-top":"50px"},attrs:{items:e.legendPlacements,color:"white",width:"5px",label:"Legend Placement Position"},model:{value:e.legendPlacement,callback:function(t){e.legendPlacement=t},expression:"legendPlacement"}}):e._e(),a("v-select",{key:e.selectedAttribute,staticStyle:{"padding-top":"50px"},attrs:{items:e.ranks,color:"white",width:"5px","item-text":"name","item-value":"name","return-object":"",label:"Update Legend rank"},on:{input:function(t){e.full=!0}},model:{value:e.selectedAttribute,callback:function(t){e.selectedAttribute=t},expression:"selectedAttribute"}}),a("v-select",{key:"selectednameattr",staticStyle:{"padding-top":"50px"},attrs:{items:Object.keys(e.namesData),color:"white",width:"5px","persistent-hint":"",hint:"Change Name Display Type",label:"Name Type"},model:{value:e.selectedNameAttr,callback:function(t){e.selectedNameAttr=t},expression:"selectedNameAttr"}})]},proxy:!0}])},[a("v-toolbar-title",[e._v("Sample Reports")]),a("v-spacer"),a("v-spacer"),1==e.tab?a("v-autocomplete",{key:"selectsearchcomplete",staticStyle:{"padding-top":"50px"},attrs:{items:Object.values(e.selectedsamplesList),color:"white",width:"5px","item-text":"full","return-object":"",label:"Search Name"},on:{change:function(t){return e.updateSelected(t)}},model:{value:e.selectedName,callback:function(t){e.selectedName=t},expression:"selectedName"}}):e._e(),1==e.tab?a("v-btn",{staticClass:"mb-1 mr-7",attrs:{"icon-and-text":"",small:"",type:"info"},on:{click:function(t){e.selectedTaxid=-1}}},[e._v(" Reset "),a("v-icon",[e._v("mdi-recycle ")])],1):e._e(),a("v-spacer"),a("download-excel",{key:e.fullArray.length+"-downloadexcel",staticStyle:{cursor:"pointer"},attrs:{data:e.fullArray}},[a("v-icon",[e._v("mdi-download")]),e._v("Download ")],1)],1),a("v-tabs-items",{model:{value:e.tab,callback:function(t){e.tab=t},expression:"tab"}},e._l(e.tabs,(function(t,n){return a("v-tab-item",{key:n+"-tabItem"},["Datatable"==t.component?a("v-row",[a("Datatable",{attrs:{selectedAttribute:e.selectedAttribute,selectedTaxid:e.selectedTaxid,samplenames:e.selectedsamples,dimensions:e.dimensions,legendPlacement:e.legendPlacement,inputdata:e.fullArray,socket:e.socket},on:{jumpTo:e.jumpTo}})],1):"Plates"!==t.component&&"Datatable"!==t.components?a("v-row",e._l(Object.entries(e.sampleData),(function(n){var s=n[0],i=n[1];return a("v-col",{key:s+"-sample",attrs:{sm:e.determineSize}},[i?a(t.component,{tag:"component",attrs:{samplename:s,namesData:e.namesData,selectedNameAttr:e.selectedNameAttr,selectedAttribute:e.selectedAttribute,full:e.full,taxa:e.taxa,selectedTaxid:e.selectedTaxid,dimensions:e.dimensions,legendPlacement:e.legendPlacement,inputdata:i,socket:e.socket},on:{jumpTo:e.jumpTo,changeAttribute:e.changeAttribute}}):e._e()],1)})),1):a("v-row",[a("Plates",{attrs:{selectedAttribute:e.selectedAttribute,selectedTaxid:e.selectedTaxid,selectedNameAttr:e.selectedNameAttr,samplenames:e.selectedsamples,dimensions:e.dimensions,legendPlacement:e.legendPlacement,inputdata:e.sampleData,socket:e.socket},on:{jumpTo:e.jumpTo}})],1)],1)})),1)],1)],1)],1)},he=[],ve=(a(2479),a(4944),a(3792),function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{ref:"boxContainer",staticStyle:{"padding-top":"10px",width:"97%"}},[a("v-row",[a("v-col",{attrs:{sm:"2"}},[e.samplenameparsed?a("v-subheader",[e._v(e._s(e.samplenameparsed)+" ")]):e._e(),a("v-divider"),a("br"),a("v-select",{attrs:{items:e.options,dense:"",light:"","item-text":"name","return-object":"",label:"Color by"},model:{value:e.edgeColor,callback:function(t){e.edgeColor=t},expression:"edgeColor"}}),a("v-select",{attrs:{items:e.align_options,dense:"",light:"","item-text":"label","item-value":"value","return-object":"",label:"Align Type"},model:{value:e.aligned,callback:function(t){e.aligned=t},expression:"aligned"}}),a("v-text-field",{attrs:{hint:"Expand Sankey Width","persistent-hint":"","single-line":"",type:"number"},model:{value:e.width,callback:function(t){e.width=t},expression:"width"}}),a("v-spacer",{staticClass:"mt-4"}),a("v-btn",{staticClass:"info",on:{click:function(t){return e.reset()}}},[e._v("Reset ")])],1),a("v-col",{attrs:{sm:"10"}},[a("div",{staticStyle:{"overflow-x":"auto"},attrs:{id:"sankeyBox-"+e.samplenameparsed}}),a("v-range-slider",{attrs:{hint:"Range of Ranks to Show",min:e.maxRange[0]-1,max:e.maxRange[1],"persistent-hint":""},on:{change:function(t){return e.hideLabels()}},scopedSlots:e._u([{key:"prepend",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.rangeLabelDepth[0],"hide-details":"","single-line":"",label:"Node Label Shown",type:"number"},on:{change:function(t){return e.$set(e.rangeLabelDepth,0,t)}}})]},proxy:!0},{key:"append",fn:function(){return[a("v-text-field",{staticClass:"mt-0 pt-0",staticStyle:{width:"60px"},attrs:{value:e.rangeLabelDepth[1],"hide-details":"","single-line":"",type:"number"},on:{change:function(t){return e.$set(e.rangeLabelDepth,1,t)}}})]},proxy:!0}]),model:{value:e.rangeLabelDepth,callback:function(t){e.rangeLabelDepth=t},expression:"rangeLabelDepth"}})],1)],1)],1)}),ge=[],xe=(a(3299),a(9653),a(7929)),be=a(6389),ye=a(4091),ke={name:"RunStats",props:["inputdata","socket","samplename"],watch:{inputdata:{deep:!0,handler:function(e){e&&(this.removeSankeychart(),this.Sankeychart(e))}},edgeColor:function(){this.colorLinks()},aligned:function(){this.removeSankeychart(),this.Sankeychart(this.inputdata)}},data:function(){return{xAxis:null,dimensions:{windowHeight:0,windowWidth:0,height:0,width:0},yAxis:null,yAxisScale:null,color:d.PKp(d.Cn1),edgeColor:"default",graph:null,sankey:null,depths:{},filteredData:[],rangeLabelDepth:[0,10],maxRange:[0,10],align_options:[{label:"Left align",target:xe.t$,value:"left"},{label:"Right align",target:xe.F2,value:"right"},{label:"Center align",target:xe.be,value:"center"},{label:"Justify align",target:xe.PT,value:"justify"}],aligned:{label:"Left align",target:xe.t$,value:"left"},width:1e3,options:["path","input","default"]}},computed:{samplenameparsed:function(){return this.samplename.replace(/\./g,"")},height:function(){return this.dimensions.height?this.dimensions.height:300}},mounted:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.dimensions.windowHeight=window.innerHeight,e.dimensions.windowWidth=window.innerWidth,e.dimensions.height=.75*e.$refs.boxContainer.clientHeight,e.dimensions.width=.6*e.$refs.boxContainer.clientWidth,e.Sankeychart(e.inputdata);case 5:case"end":return t.stop()}}),t)})))()},methods:{reset:function(){this.removeSankeychart(),this.Sankeychart(this.inputdata)},hideLabels:function(){d.Ys("#sankeyBox-".concat(this.samplenameparsed));this.updateSankey()},colorLinks:function(){var e=this,t=d.Ys("#sankeyBox-".concat(this.samplenameparsed)),a=t.selectAll(".link");if(a.attr("stroke",(function(t){return"none"===e.edgeColor?"#aaa":"path"===e.edgeColor?t.uid:"input"===e.edgeColor?e.color(t.source):e.color(t.target)})),"path"===this.edgeColor){var n=a.append("linearGradient").attr("id",(function(e,t){return"".concat(t)})).attr("class","gradient").attr("gradientUnits","userSpaceOnUse").attr("x1",(function(e){return e.source.x1})).attr("x2",(function(e){return e.target.x0}));n.append("stop").attr("offset","0%").attr("stop-color",(function(t){return e.color(t.source)})),n.append("stop").attr("offset","100%").attr("stop-color",(function(t){return e.color(t.target)}))}else t.selectAll(".gradient").remove()},removeSankeychart:function(){d.Ys("#sankeyBox-"+this.samplenameparsed).selectAll("*").remove()},updateSankey:function(){var e=this,t=function(e){return l(e)},a=this.sankey,n=this.inputdata.filter((function(t){return t.parenttaxid>=0&&t.parenttaxid&&1+t.depth/2>=e.rangeLabelDepth[0]&&1+t.depth/2<=e.rangeLabelDepth[1]})),s={top:50,right:20,bottom:30,left:10},i=this.height-s.top-s.bottom,r=this.width/(1/(e.rangeLabelDepth[1]-e.rangeLabelDepth[0]))-s.left-s.right,l=d.WUZ(",.0f"),o=_.cloneDeep(e.sankeydata);n.forEach((function(e){o.nodes.push({name:"".concat(e.source,"-").concat(e.parenttaxid)}),o.nodes.push({name:"".concat(e.target,"-").concat(e.taxid)}),o.links.push({source:"".concat(e.source,"-").concat(e.parenttaxid),target:"".concat(e.target,"-").concat(e.taxid),value:+e.value})})),o.nodes=Array.from(d.ruo(o.nodes,(function(t){return e.depths[t.name]=t.depth,t.name})),(function(e){var t=(0,u.Z)(e,1),a=t[0];return a})),o.links.forEach((function(e,t){o.links[t].source=o.nodes.indexOf(o.links[t].source),o.links[t].target=o.nodes.indexOf(o.links[t].target)})),o.nodes.forEach((function(e,t){o.nodes[t]={name:e}}));var c=a(o),m=c.nodes,p=c.links;function f(e,t){t.__x=e.x,t.__y=e.y,t.__x0=t.x0,t.__y0=t.y0,t.__x1=t.x1,t.__y1=t.y1}var h=m[0].x1-m[0].x0;function v(t){d.Ys(this).attr("transform",(function(e){var a=t.x-e.__x,n=t.y-e.__y;return e.x0=e.__x0+a,e.x1=e.__x1+a,e.y0=e.__y0+n,e.y1=e.__y1+n,e.x0<0&&(e.x0=0,e.x1=h),e.x1>r&&(e.x0=r-h,e.x1=r),e.y0<0&&(e.y0=0,e.y1=e.__y1-e.__y0),e.y1>i&&(e.y0=i-(e.__y1-e.__y0),e.y1=i),"translate(".concat(e.x0,", ").concat(e.y0,")")})),e.sankey.update({nodes:m,links:p}),g.selectAll(".link").attr("d",(0,be.Z)())}this.svg.selectAll(".nodeSankey").remove(),this.svg.selectAll(".link").remove();this.svg.selectAll("g.nodeSankey").data(m,(function(e){return e})).join((function(a){var n=a.append("g").attr("class","nodeSankey").attr("transform",(function(e){return"translate(".concat(e.x0,", ").concat(e.y0,")")}));return n.append("rect").attr("height",(function(e){return e.y1-e.y0})).attr("width",(function(e){return e.x1-e.x0})).attr("fill",e.color).attr("id",(function(e,t){return"".concat(e.name,".").concat(t,"-rect")})).attr("stroke","#000").append("title").text((function(e){return"".concat(e.name,"\n").concat(t(e.value))})),n.append("text").classed("nodeText",!0).attr("font-family","sans-serif").attr("font-size",15).attr("x",(function(e){return e.x0<r/2?e.x1-e.x0+6:-6})).attr("y",(function(e,t){return t%3==1?(e.y1-e.y0)/1.5:t%3==2?(e.y1-e.y0)/3:(e.y1-e.y0)/2})).attr("dy","0.35em").attr("text-anchor",(function(e){return e.x0<r/2?"start":"end"})).text((function(e){return e.name.split("-")[0]})),n.append("text").classed("nodeText",!0).attr("font-family","sans-serif").attr("font-size",15).attr("dy","-0.2em").attr("text-anchor","start").text((function(e){return Math.round(100*(e.value+Number.EPSILON))/100})),n.attr("cursor","move").call(d.ohM().on("start",f).on("drag",v)),n}),(function(e){return e.selectAll(".nodeSankey").attr("transform",(function(e){return"translate(".concat(e.x0,", ").concat(e.y0,")")})),e}),(function(e){return e.remove()}));var g=this.svg.selectAll(".link").data(p,(function(e){return e})).join((function(a){var n=a.append("g").attr("fill","none").attr("stroke-opacity",.7).style("mix-blend-mode","multiply");return n.append("path").attr("class","link").attr("d",(0,be.Z)()).attr("stroke-width",(function(e){return Math.max(1,e.width)})),n.append("title").text((function(e){return e.source.name+"  "+e.target.name+"\n"+t(e.value)})),e.colorLinks(),n}),(function(e){return e.selectAll(".link").attr("d",(0,be.Z)()),e}),(function(e){return e.remove()}))},Sankeychart:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function e(){var a,n,s,i,r,l,o,c,u;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:u=function(e){return l.attr("transform",e.transform)},a={top:50,right:20,bottom:30,left:10},n=t.width-a.left-a.right,s=t.height-a.top-a.bottom,i=d.Ys("#sankeyBox-"+t.samplenameparsed),r=d.sPX().scaleExtent([0,5]).on("zoom",u),l=i.append("svg").attr("width",n+a.left+a.right).attr("height",s+a.top+a.bottom).call(r).append("g").attr("transform","translate("+a.left+","+a.top+")"),o=(0,ye.Z)().nodeWidth(10).nodePadding(40).size([n,s]).nodeAlign(t.aligned.target),t.svg=l,t.sankey=o,c={nodes:[],links:[]},t.sankeydata=c,t.maxRange=d.Wem(t.inputdata,(function(e){return 1+e.depth/2})),t.updateSankey();case 12:case"end":return e.stop()}}),e)})))()}}},_e=ke,we=a(2199),Se=a(2540),Ce=(0,f.Z)(_e,ve,ge,!1,null,null,null),Ae=Ce.exports;v()(Ce,{VBtn:z.Z,VCol:g.Z,VContainer:x.Z,VDivider:W.Z,VRangeSlider:we.Z,VRow:b.Z,VSelect:y.Z,VSpacer:k.Z,VSubheader:Se.Z,VTextField:w.Z});var De=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-row",{ref:"boxContainer"},[a("v-subheader",[e._v(e._s(e.samplename)+" ")]),e.inputdata?a("v-data-table",{staticClass:"elevation-1 mx-5 px-6",attrs:{small:"",items:e.inputdata,height:e.dimensions.height,headers:e.headers,"items-per-page":100,search:e.search,"custom-filter":e.filter,width:1e3},scopedSlots:e._u([{key:"item.extract",fn:function(t){var n=t.item;return[a("v-btn",{staticClass:"mr-2",attrs:{"x-small":"",color:"grey"},on:{click:function(t){return e.extractTaxid(n.taxid)}}},[e._v(" Extract Taxid ")])]}},{key:"top",fn:function(){return[a("v-toolbar",[a("v-toolbar-title",{staticClass:"mr-10"},[e._v("Classifications")]),a("v-select",{attrs:{items:e.headers,"persistent-hint":"",hint:"Column to search on"},model:{value:e.selectedSearch,callback:function(t){e.selectedSearch=t},expression:"selectedSearch"}}),a("v-text-field",{staticClass:"mx-4",attrs:{label:"Search ",placeholder:"Search Term"},model:{value:e.search,callback:function(t){e.search=t},expression:"search"}})],1)]},proxy:!0}],null,!0)}):e._e()],1)},Te=[],Ze=(a(8862),a(7601),a(5108)),Re={name:"RunStats",props:["inputdata","socket","samplename"],watch:{},data:function(){return{nodeCountMax:0,edgeColor:"default",dimensions:{windowHeight:0,windowWidth:0,height:0,width:0},options:["path","input","default"],headers:[{text:"Sample",value:"samplename",align:"center",sortable:!0},{text:"Percent",value:"value",sortable:!0,align:"center"},{text:"Parent",value:"source",align:"center",sortable:!0},{text:"Scientific Name",value:"target",align:"center",sortable:!0},{text:"Depth",value:"depth",align:"center",sortable:!0},{text:"Fragments In Clade",value:"num_fragments_clade",align:"center",sortable:!0},{text:"TaxID",value:"taxid",align:"center",sortable:!0},{text:"Fragments Assigned",value:"num_fragments_assigned",align:"center",sortable:!0},{text:"Fullname",value:"full",align:"center",sortable:!0},{text:"Rank Code",align:"center",value:"rank_code",sortable:!0}],search:null,selectedSearch:{text:"Name",value:"target",align:"center",sortable:!0}}},mounted:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.dimensions.windowHeight=window.innerHeight,e.dimensions.windowWidth=window.innerWidth,e.dimensions.height=2*e.$refs.boxContainer.clientHeight,e.dimensions.width=.6*e.$refs.boxContainer.clientWidth;case 4:case"end":return t.stop()}}),t)})))()},methods:{sendMessage:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.socket.readyState===this.socket.OPEN){e.next=12;break}return e.prev=1,e.next=4,this.waitForOpenConnection(this.socket);case 4:this.socket.send(t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),Ze.error(e.t0);case 10:e.next=13;break;case 12:this.socket.send(t);case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}(),extractTaxid:function(e){this.sendMessage(JSON.stringify({type:"extractTaxid",taxid:e}))},filter:function(e,t,a){var n=".*".concat(t,".*"),s=new RegExp(n,"ig");return!!s.test(a[this.selectedSearch])}}},Ve=Re,Pe=a(5039),Ie=(0,f.Z)(Ve,De,Te,!1,null,null,null),Le=Ie.exports;v()(Ie,{VBtn:z.Z,VDataTable:Pe.Z,VRow:b.Z,VSelect:y.Z,VSubheader:Se.Z,VTextField:w.Z,VToolbar:ue.Z,VToolbarTitle:S.qW});var je=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("v-container",{ref:"boxContainer",staticStyle:{"padding-top":"10px"}},[a("v-row",[a("v-col",{staticClass:"mb-0; pb-0",staticStyle:{"padding-top":"10px","padding-bottom":"100px"},attrs:{sm:"bottom"==e.legendPlacement?12:8}},[a("div",{attrs:{id:"sunburstDiv-"+e.samplenameparsed}})]),a("v-col",{staticClass:"mt-0; pt-0 text-center",attrs:{sm:"bottom"==e.legendPlacement?12:4}},[a("div",{staticClass:"mt-5",staticStyle:{margin:"auto","padding-bottom":"10px"},attrs:{id:"legend_text-"+e.samplenameparsed}},[a("h5",[e._v("Legend")]),a("h6",[e._v("Total Reads "+e._s(e.readCount))]),a("h6",[e._v("at Rank Code: "+e._s(e.selectedAttribute))]),a("span",{staticStyle:{"text-align":"center"},attrs:{id:"legend_text_label-"+e.samplenameparsed}}),"Deviation"==e.selectedAttribute?a("div",{staticClass:"alert alert-info"},[a("span",[e._v("Color is Relative to +/- Max Abundance at a Given Rank")])]):e._e()]),a("div",{staticStyle:{position:"relative",background:"none","padding-bottom":"100px","background-opacity":"0.5",width:"100%","max-height":"200px","overflow-y":"auto","overflow-x":"auto"},attrs:{id:"legend_wrapper-"+e.samplenameparsed}})])],1)],1)},Ne=[],Oe={name:"RunStats",props:["inputdata","namesData","selectedNameAttr","full","taxa","socket","samplename","selectedTaxid","selectedAttribute","legendPlacement"],watch:{selectedNameAttr:function(e){this.updateText()},namesData:{deep:!0,handler:function(e){}},full:function(){this.madeFirst&&(this.updateColors(),this.inputdata&&this.updateLegendTax())},selectedTaxid:function(e){var t=d.Ys("#sunburstDiv-"+this.samplenameparsed).select(this.fetchArc("#sliceMain",e)),a=t.data()[0];t.empty()||(this.$emit("changeAttribute",a.data.data.rank_code),this.focusOn(a),this.madeFirst&&(this.updateColors(),this.updateLegendTax()))},inputdata:function(e){this.madeFirst?this.mergeData(e):this.makeSunburst(e)},selectedAttribute:{deep:!0,handler:function(){this.inputdata&&(this.getTaxValues(),this.updateColors(),this.updateLegendTax())}}},computed:{samplenameparsed:function(){return this.samplename.replace(/\./g,"")},readCount:function(){var e=this,t=0;return this.inputdata.filter((function(t){return t.rank_code==e.selectedAttribute})).map((function(e){return e.num_fragments_clade?t+=e.num_fragments_clade:""})),t},width:function(){return this.dimensions.width?this.dimensions.width:window.innerWidth?window.innerWidth:400},height:function(){return this.dimensions.height?this.dimensions.height:900}},data:function(){return{test:.5,taxData:null,taxValues:[],childrenselected:0,history:{},recursedata:null,Extent:[],ranks:[],madeFirst:!1,maxAbu:1e8,minAbu:1e-4,resetUpdateChecked:!0,dimensions:{windowHeight:0,windowWidth:0,height:0,width:0},abuThresholdMin:0,defaultAbuThresholdMin:1e-4,abuThresholdMax:1,defaultAbuThresholdMax:1,ranksizeExtents:{},seen:{},originalsizeBasis:!1,scaleModes:[{name:"totalsize",label:"Total size"},{name:"originalsize",label:"Original size"}],selected_scaleMode:{name:"totalsize",label:"Total size"},selected_classifier:null,rankNames:[],fullData:[],calculateAbu:!0,zoomed:null,radius:0,maxRanks:0,read_type:null,boundsLegendDeviation:{lower:-1,upper:1},boundsDeviation:{},childrenTaxes:[],firstReady:!1,tab:1,shown:!1,fields:[{key:"name",label:"Name",sortable:!0,class:"text-center"},{key:"taxid",label:"TaxID",sortable:!0,class:"text-center"},{key:"rank",label:"Rank",sortable:!0,class:"text-center"},{key:"totalabu",label:"Reported Abu",sortable:!0}],filterOn:[],sortBy:"originalsize",defaultColor:"#1f77b4",colorScalePiechart:d.Cn1.slice(1),colorScaleDeviationPieChart:d.DeQ,x:null,taxes:[],y:null,arc:null,sortDir:{col:null,direction:null},middleArcLine:null,colorRampPieChart:null,colorDeviationPieChart:null,root:null}},methods:{getTaxValues:function(){var e=this,t=[];return this.inputdata.map((function(a){-1==t.indexOf(a.target)&&a.rank_code==e.selectedAttribute&&t.push({label:a.target,taxid:a.taxid,rank_code:a.rank_code,abu:a.value,text:e.getText(a),num_fragments_clade:a.num_fragments_clade})})),t},mergeData:function(e){var t=d.Fp7(e,(function(e){return e.depth}));if(t!==this.maxDepth){var a=this.stratify(e);this.root=this.partition(a),this.updateSunburst(this.root)}else{var n=this.stratify(e);this.root=this.partition(n),this.updateSunburst(this.root)}},updateLegendTax:function(){var e=this,t=this,a=d.Cn1[0];this.emptyColor=d.Cn1[0];var n=this.selectedAttribute,s=this.defaultColor,i=this.getTaxValues(),r=d.Ys("#legendSVG-"+this.samplenameparsed).classed("svgPieChartLegend",!0),l=d.Ys("#legend_wrapper-".concat(this.samplenameparsed)),o=d.Ys("#legend_text_label-".concat(this.samplenameparsed));o.text("Rank: "+n),o.text("Sample: "+this.samplenameparsed),l.style("overflow-y","auto").style("overflow-x","auto"),r.selectAll(".legendElement").remove();var c,u=this.childrenTaxes,m=this.full;if(m)c=r.selectAll("g.legendElement").data(i);else{var p=u.filter((function(t){return e.taxa.indexOf(t.label)>-1}));c=0==p.length?r.selectAll("g.legendElement").data(i.sort((function(e,t){return t.abu-e.abu}))):r.selectAll("g.legendElement").data(p.sort((function(e,t){return t.abu-e.abu})))}c&&c._enter.length>0&&c.exit().remove();var f=c.enter().append("g");f.attr("class","legendElement").sort((function(e,t){return e.abu-t.abu})).on("click",(function(e,a){t.jumpTo(a.taxid,a.rank_code)})).attr("id",(function(e){return"legendElement-"+t.samplenameparsed+e.taxid})),f.append("rect").attr("x",0).attr("y",0).attr("width",25).attr("height",25).attr("class","legendRect").style("fill",s),f.append("text").attr("x",35).attr("y",18).style("font-size","14px");var h=c.merge(f).transition().duration(0).attr("transform",(function(e,t){return"translate(0,"+30*t+")"}));h.selectAll("rect").style("fill",(function(e){var n=s;return""==e?n=a:e&&(n=t.colorRampPieChart(e.label)),n})),h.selectAll("text").text((function(e){var a=e.label;""==a&&(a="No "+n+" listed");var s=e.abu;return e.text+" ("+t.roundNumbers(s,3)+"%) "+"(".concat(e.num_fragments_clade," fragments classified) taxid: ").concat(e.taxid)})),r.attr("height",30*f.size())},getText:function(e){var t=this;return t.selectedNameAttr?"default (scientific name)"==t.selectedNameAttr?e.target:e.objfull&&e.objfull[t.selectedNameAttr]&&e.objfull[t.selectedNameAttr].length>0?e.objfull[t.selectedNameAttr][0]:e.target:e.target},updateText:function(){var e=this;this.svg.selectAll(".textfull").remove();var t=this.svg.selectAll(".slice"),a=t.append("text").classed("textfull",!0).attr("display",(function(t){return e.textFits(t)?null:"none"})).style("fill","#484848");a.append("textPath").classed("whitecontour",!0).attr("startOffset","50%").attr("xlink:href",(function(t){return"#hiddenArc".concat(t.data.data.taxid,"-").concat(e.samplenameparsed)})).text((function(t){return e.getText(t.data.data)})).style("font-size","10px").style("stroke","#fff").style("stroke-width",2.5).style("stroke-linejoin","round").attr("dominant-baseline","middle"),a.append("textPath").classed("hiddentext",!0).attr("startOffset","50%").attr("xlink:href",(function(t){return"#hiddenArc".concat(t.data.data.taxid,"-").concat(e.samplenameparsed)})).text((function(t){return e.getText(t.data.data)})).style("font-size","10px").attr("dominant-baseline","middle"),this.updateLegendTax()},updateColors:function(){var e=this.svg,t=d.PKp(this.colorScalePiechart).domain(this.taxa);this.colorRampPieChart=t;var a=this.colorSlice;e&&e.selectAll(".main-arc").style("fill",(function(e){return a(e)}))},clearSunburst:function(){var e=this;return new Promise((function(t){d.Ys("#sunburstDiv-"+e.samplenameparsed).html(""),t()}))},resetSunburst:function(){this.jumpTo(-1,"base"),this.zoomed=null},jumpTo:function(e,t){this.$emit("jumpTo",e,t)},fetchArc:function(e,t){return e+"-"+this.samplenameparsed+"-"+t},updateSunburst:function(e){var t=this,a=this,n=this.svg,s=this.maxRadius,i=this.height,r=this.x,l=this.y;n.attr("viewBox","".concat(-s," ").concat(-i/2," ").concat(2*s," ").concat(i));var o=this.width/this.maxRanks;this.radius=o;var c=function(e){var t=Math.PI/2,a=[r(e.x0)-t,r(e.x1)-t],n=Math.max(0,(l(e.y0)+l(e.y1))/2),s=(a[1]+a[0])/2,i=s>0&&s<Math.PI;i&&a.reverse();var o=d.ETc();return o.arc(0,0,n,a[0],a[1],i),o.toString()};this.middleArcLine=c;var u=[],m=n.select(".globalg"),p=0,f=e.descendants().filter((function(e){var t=a.fetchArc("sliceMain",e.data.data.taxid),n=e.data.data;return u.push({rank:n.rank_code,taxid:n.taxid,id:t,name:n.target,totalabu:n.num_fragments_clade,originalsize:n.num_fragments_clade,text:a.getText(n),label:n.rank_code+" "+n.target+" "+n.taxid}),e.data.totalabu=n.num_fragments_clade,e.data.label=n.rank_code+" "+n.target+" "+n.taxid,e.data.id=a.fetchArc("sliceMain",n.taxid,n.depth),n.totalsize>p&&(p=n.num_fragments_clade),!0})),h=n.transition().duration(750).tween("scale",(function(){var e=d.sXR(r.domain(),[0,1]),t=d.sXR(l.domain(),[0,1]);return function(a){r.domain(e(a)),l.domain(t(a))}}));h.selectAll("path.main-arc").attrTween("d",(function(e){return function(){return t.arc(e)}})),h.selectAll("path.hidden-arc").attrTween("d",(function(e){c(e)})),h.selectAll("text").attrTween("display",(function(e){return function(){return a.textFits(e)?null:"none"}}));var v=this.arc,g={},x=this.colorSlice;function b(){var e=d.event.transform;m.attr("transform",e),m.attr("stroke-width",1/e.k)}m.selectAll("g.slice").data(f,(function(e){return g[e.data.label]?(g[e.data.label].x0=e.x0,g[e.data.label].y0=e.y0,g[e.data.label].x1=e.x1,g[e.data.label].y1=e.y1):g[e.data.label]=e,"".concat(e.data.label,"-").concat(e.data.data.num_fragments_clade)})).join((function(e){var t=e.append("g").attr("class","slice").on("click",(function(e,t){e.stopPropagation(),a.$emit("jumpTo",t.data.data.taxid,t.data.data.rank_code)})).attr("id",(function(e){return a.fetchArc("slice",e.data.data.taxid)}));return t.append("title").text((function(e){return"Sample: "+a.samplenameparsed+"\nFull Name(s): "+e.data.data.full+"\nName: "+e.data.data.target+"\nPercent: "+e.data.data.value+"%\nDepth: "+e.data.depth+"\nTotal reads: "+a.roundNumbers(e.data.data.num_fragments_clade,0)+"\nAssigned reads: "+a.roundNumbers(e.data.data.num_fragments_assigned,0)+"\nRank: "+e.data.data.rank_code+"\nTaxid: "+e.data.data.taxid})),t.append("path").attr("class","hidden-arc").attr("id",(function(e){return"hiddenArc".concat(e.data.data.taxid,"-").concat(a.samplenameparsed)})).attr("d",(function(e){return c(e)})),t.append("path").attr("class","main-arc").style("fill",(function(e){return x(e)})).attr("d",(function(e){return v(e)})).attr("id",(function(e){var t=a.fetchArc("sliceMain",e.data.data.taxid,e.data.data.depth);return t})).style("fill","#ccc").on("mouseover",(function(e,t){var n=d.Ys(a.fetchArc("#sliceMain",t.data.data.taxid,t.data.data.depth));n.style("fill-opacity",.5)})).on("mouseout",(function(e,t){var n=d.Ys(a.fetchArc("#sliceMain",t.data.data.taxid,t.data.data.depth));n.style("fill-opacity",1)})),t}),(function(e){return e.selectAll(".main-arc").each((function(e){e.x0=g[e.data.label].x0,e.x1=g[e.data.label].x1,e.y0=g[e.data.label].y0,e.y1=g[e.data.label].y1})).style("fill",(function(e){return x(e)})).transition().call(a.standardTransition),e.selectAll(".hidden-arc").attr("d",(function(e){return e.x0=g[e.data.label].x0,e.x1=g[e.data.label].x1,e.y0=g[e.data.label].y0,e.y1=g[e.data.label].y1,c(e)})),e}),(function(e){return e.remove()})),this.updateText(),d.sPX().scaleExtent([1,8]).on("zoom",b),this.updateColors(),this.updateLegendTax()},makeSunburst:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function a(){var n,s,i,r,l,o;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=d.Ys("#sunburstDiv-"+t.samplenameparsed),s=d.Ys("#legend_wrapper-".concat(t.samplenameparsed)),n.select("svg").remove(),n.select("#legendSVG-"+t.samplenameparsed).remove(),s.html(""),s.append("svg").attr("id","legendSVG-"+t.samplenameparsed),i=t.height,r=Math.round(i/2),t.maxRadius=r,l=n.append("svg").style("max-width",2*r).style("max-height",t.height).attr("id","sunburst-"+t.samplenameparsed),t.svg=l,l.selectAll(".slice").remove(),l.selectAll(".legendElement").remove(),n.style("width",2*r),l.append("g").attr("class","globalg"),o=t,setTimeout((function(){o.startSunburst(e),t.madeFirst=!0}),100);case 17:case"end":return a.stop()}}),a)})))()},stratify:function(e){return d.QP8().id((function(e){return e.taxid})).parentId((function(e){return e.parenttaxid}))(e)},startSunburst:function(e){this.childrenSelected=0;var t=this.stratify(e),a=[];this.taxValues=[],this.taxValues=a;var n=this.partition(t);this.minAbu=this.defaultAbuThresholdMin,this.maxAbu=this.defaultAbuThresholdMax,this.ranks=[];var s=d.BYU().range([0,2*Math.PI]).clamp(!0);this.x=s;var i=this.maxRadius,r=d.PUr().range([.05*i,i]);this.y=r,this.updateColors(),this.updateSunburst(n),this.firstReady=!0},roundNumbers:function(e,t){return parseFloat(e).toFixed(t)},colorSlice:function(e){var t=this.colorRampPieChart,a=this.selectedAttribute,n=this.defaultColor,s=e,i=n;if(null!==s&&s.data.data.taxid>0)if(s.data.data.rank_code==a)i=t(e.data.data.target);else{var r=!1,l=e.parent;while(l.depth>0&&0==r)l.data.data.rank_code==a&&(i=t(l.data.data.target),r=!0),l=l.parent}return i},standardTransition:function(e){e.duration(5e3).ease(d.Nyw)},partition:function(e){var t=this,a=d.bT9(e),n=this;this.seen={};var s=0,i=[],r={};this.taxValues=this.getTaxValues(),a.sum((function(e){var t=e.data;if(t.taxid=parseInt(t.taxid),-1==n.taxes.findIndex((function(e){return e.rank_code===t.rank_code}))&&n.taxes.push({name:t.rank_code}),e.children&&e.children.length>0){t.size=null;var a=0;e.children.forEach((function(e){var t=e.data;a+=(e.children&&e.children.length,t.num_fragments_clade)})),t.size=t.num_fragments_clade-a}else t.size=t.num_fragments_clade;return t.totalsize=t.size,t.originalsize=0,n.seen[t.taxid]=1,t.size})),a.sort((function(e,t){return t.taxid-e.taxid})),a.each((function(e){e.data.depth>t.maxRanks&&(t.maxRanks=e.data.depth),r[e.depth]||(r[e.depth]=[]),r[e.depth].push(e),e.depth>s&&(s=e.depth)}));var l=d.Wem(a,(function(e){return e.data.data.size}));this.Extent=l,this.taxValues=[];var o=d.Nb1().startAngle((function(e){return t.x(e.x0)})).endAngle((function(e){return t.x(e.x1)})).innerRadius((function(e){return Math.max(0,t.y(e.y0))})).outerRadius((function(e){return Math.max(0,t.y(e.y1))}));return this.arc=o,this.maxDepth=s,this.taxValues=i,d.uKc()(a)},textFits:function(e){var t=this.x,a=this.y,n=5,s=t(e.x1)-t(e.x0),i=Math.max(0,(a(e.y0)+a(e.y1))/2),r=i*s;return e.data.data.target.length*n<r},focusOn:function(){var e=this,t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{x0:0,x1:1,y0:0,y1:1},a=this.x,n=this.y,s=this.svg,i=this.middleArcLine,r=s.transition().duration(750).tween("scale",(function(){var e=d.sXR(a.domain(),[t.x0,t.x1]),s=d.sXR(n.domain(),[t.y0,1]);return function(t){a.domain(e(t)),n.domain(s(t))}}));r.selectAll("path.main-arc").attrTween("d",(function(t){return function(){return e.arc(t)}})),r.selectAll("path.hidden-arc").attrTween("d",(function(e){return function(){return i(e)}})),r.selectAll("text").attrTween("display",(function(t){return function(){return e.textFits(t)?null:"none"}})),this.moveStackToFront(t),this.setChildren(t)},setChildren:function(e){var t=[],a=this;if(e.children){var n=e.children.map((function(e){return t.push({abu:e.data.data.value,rank_code:e.data.data.rank_code,label:e.data.data.target,num_fragments_clade:e.data.data.num_fragments_clade,text:a.getText(e.data.data),taxid:e.data.data.taxid}),e.data.data.rank_code}));this.childrenTaxes=t,this.$emit("changeAttribute",n[0])}else this.childrenTaxes=[]},moveStackToFront:function(e){var t=this.moveStackToFront;this.svg.selectAll(".slice").filter((function(t){return t===e})).each((function(e){this.parentNode.appendChild(this),e.parent&&t(e.parent)}))}},mounted:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:e.dimensions.windowHeight=window.innerHeight,e.dimensions.windowWidth=window.innerWidth,e.dimensions.height=2*e.$refs.boxContainer.clientHeight,e.dimensions.width=.6*e.$refs.boxContainer.clientWidth,e.inputdata&&e.makeSunburst(e.inputdata);case 5:case"end":return t.stop()}}),t)})))()}},$e=Oe,ze=(0,f.Z)($e,je,Ne,!1,null,null,null),Be=ze.exports;v()(ze,{VCol:g.Z,VContainer:x.Z,VRow:b.Z});var Ee={name:"RunStats",components:{Sankey:Ae,Sunburst:Be,Plates:A,Datatable:Le},computed:{determineSize:function(){return 1==this.tab?this.selectedsamples.length%3==0?6:1==this.selectedsamples.length?12:(this.selectedsamples.length,6):this.selectedsamples.length%2==0||1==this.selectedsamples.length?12:6}},props:["socket","selectedsamples","sampleData","namesData","bundleconfig","fullsize"],watch:{sampleData:{deep:!0,handler:function(e){for(var t=[],a=0,n=Object.values(e);a<n.length;a++){var s=n[a];s&&t.push((0,c.Z)(new Set(s.map((function(e){return e.rank_code})))))}var i=[],r=this;e&&Object.keys(e).length>0&&Object.keys(e).map((function(t){e[t]&&Object.values(e[t]).forEach((function(e){e.samplename=t,r.$set(r.selectedsamplesList,e.taxid,{taxid:e.taxid,full:e.full}),i.push(e)}))})),t=(0,c.Z)(new Set(t.flat())),this.ranks=t,this.getUniqueLabels(),this.$set(this,"fullArray",i)}},selectedNameAttr:{deep:!0,handler:function(e){}},selectedAttribute:{deep:!0,handler:function(){this.getUniqueLabels()}}},data:function(){return{selectedTaxid:0,selectedName:null,fullArray:[],selectedsamplesList:{},full:!1,selectedNameAttr:"default (scientific name)",taxa:[],selectedAttribute:"S",legendPlacement:"bottom",legendPlacements:["bottom","side"],dimensions:{windowHeight:0,windowWidth:0,height:0,width:0},tab:1,ranks:[],selectedSample:null,tabs:[{name:"Top",component:"Plates",type:"json"},{name:"Sunburst",component:"Sunburst",type:"json"},{name:"Sankey",component:"Sankey",type:"report"},{name:"Table",component:"Datatable",type:"report"}]}},methods:{getUniqueLabels:function(){for(var e=this,t=[],a=this.sampleData,n=0,s=Object.values(a);n<s.length;n++){var i=s[n];if(i){var r=i.filter((function(t){return t.rank_code==e.selectedAttribute})).map((function(e){return e.target})),l=t.concat(r);t=l}}t=(0,c.Z)(new Set(t)),this.$set(this,"taxa",t)},jumpTo:function(e){this.selectedTaxid=e},updateSelected:function(e){this.selectedTaxid=e.taxid},changeAttribute:function(e){this.selectedAttribute=e||"base",this.getUniqueLabels()}},mounted:function(){return(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:case"end":return e.stop()}}),e)})))()}},Me=Ee,Fe=a(344),qe=(0,f.Z)(Me,fe,he,!1,null,null,null),We=qe.exports;v()(qe,{VAutocomplete:Fe.Z,VBtn:z.Z,VCol:g.Z,VContainer:x.Z,VIcon:J.Z,VRow:b.Z,VSelect:y.Z,VSpacer:k.Z,VTab:ie.Z,VTabItem:re.Z,VTabs:le.Z,VTabsItems:oe.Z,VTabsSlider:ce.Z,VToolbar:ue.Z,VToolbarTitle:S.qW});var Ue=a(6470),He=a.n(Ue),Je=a(9367),Ye=a(5108),Ke={name:"App",components:{Plates:A,Samplesheet:pe,RunStats:We},beforeDestroy:function(){if(this.interval)try{clearInterval(this.interval)}catch(e){Ye.error(e)}},computed:{direction:function(){return!1===this.navigation.shown?"Open":"Closed"},samplekeys:function(){return Object.keys(this.fullData)},icon:function(){return this.selectedAllSamples?"mdi-checkbox-marked":this.selectedSomeSamples?"mdi-minus-box":"mdi-checkbox-blank-outline"},selectedAllRanks:function(){return this.defaultsList.length===this.defaults.length},selectedSomeRanks:function(){return this.defaults.length>0&&!this.selectedAllRanks},selectedAllSamples:function(){return this.samplekeys.length===this.selectedsamples.length},selectedSomeSamples:function(){return this.selectedsamples.length>0&&!this.selectedAllSamples}},data:function(){return{search:"",queueLength:0,manuals:{},recentDataFileadded:null,socket:{},socketReport:{},navigation:{shown:!0,width:550,borderSize:3},anyRunning:!1,pausedServer:!1,selectedsamples:[],selectedsamplesAll:[],status:{},uniquenametypes:{"default (scientific name)":1},uniquenametypesarr:[],config:{},current:{},bundleindex:1,topLevelSampleNames:[],names_file_input:null,names_file:"/names.tsv",seen:[],mapped_names:{},database_file:null,db_option:"file",selectedData:{},db_options:["file","path"],stagedData:{},paused:!1,dialog:!1,connectedStatus:"Not connected!",message:"No message yet!",inputdata:null,sampledata:{},samples:[],selectedsample:null,fullData:[],type:"single",database:null,watchdir:null,playbackdata:null,bundleconfig:null,runBundle:!0,interval:null,nodeCountMax:0,defaults:["K","R","R1","U","P","G","D","D1","O","C","S","F","S1","S2","S3","S4"],defaultsList:["U","K","P","D","D1","G","O","C","S","F","S1","S2","S3","S4"],maxDepth:30,samplesheetdata:[],samplesheet:null,minDepth:0,minPercent:.005,jsondata:null,matchPaired:".*_[1-2].fastq.gz",logs:[],fullsize:{},matchSingle:".*fastq",ext:".fastq",compressed:!1,filepath:"sample_metagenome.second.report",tab:0,gpu:!1,tabs:[{name:"Run Stats",icon:"square",component:"RunStats"}]}},watch:{gpu:function(e){try{this.sendMessage({type:"gpu",gpu:e})}catch(t){Ye.error(t)}},selectedsamples:function(e){var t=this,a={};e.map((function(e){return a[e]=t.sampledata[e]})),this.selectedData=a},names_file_input:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function a(){var n,s,i,l;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:l=function(){return l=(0,r.Z)(regeneratorRuntime.mark((function e(){var t;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,d.tJ3(n.result);case 2:t=e.sent,s.mapData(t);case 4:case"end":return e.stop()}}),e)}))),l.apply(this,arguments)},i=function(){return l.apply(this,arguments)},n=new FileReader,s=t,n.addEventListener("load",i,!1),n.readAsText(e);case 6:case"end":return a.stop()}}),a)})))()},maxDepth:function(){this.filter()},paused:function(e){this.sendMessage({type:"pause",pause:e})},minDepth:function(){this.filter()},defaults:function(){this.minDepth=0,this.maxDepth=20,this.minPercent=0,this.filter()},minPercent:function(){this.filter()}},mounted:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){var a,n;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return e.setBorderWidth(),e.setEvents(),e.importNames(e.names_file),t.prev=3,a="".concat("/mytax/","/data/Samplesheet.csv").replace("//","/"),t.next=7,d.gyn("".concat(a));case 7:n=t.sent,n=n.filter((function(e){return e.demux="true"==e.demux||"TRUE"==e.demux||"True"==e.demux,e.sample&&""!=e.sample})),e.samplesheet=a,e.samplesheetdata=n,0==e.samplesheetdata.length&&(e.navigation.shown=!0),t.next=17;break;case 14:t.prev=14,t.t0=t["catch"](3),Ye.error(t.t0,"<<<");case 17:e.connect();case 18:case"end":return t.stop()}}),t,null,[[3,14]])})))()},methods:{deleteRow:function(e){var t=this;this.$delete(this.selectedData,e),this.manuals[e]=null;var a=this.selectedsamplesAll.findIndex((function(t){return t===e}));a>=0&&(this.selectedsamplesAll.splice(a,1),this.selectedsamples.splice(a,1)),this.topLevelSampleNames[e]&&this.topLevelSampleNames[e].map((function(e){t.$delete(t.selectedData,e);var a=t.selectedsamples.findIndex((function(t){return t===e}));a>=0&&(t.selectedsamples.splice(a,1),t.selectedsamplesAll.splice(a,1))}))},addDropFileData:function(e){this.addData(e.dataTransfer.files[0])},addDropFile:function(e){this.names_file_input=e.dataTransfer.files[0]},addData:function(e){var t=this,a=new FileReader;a.addEventListener("load",s,!1),a.readAsText(e);var n=He().parse(e.name).name;function s(){return i.apply(this,arguments)}function i(){return i=(0,r.Z)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,t.importData(a.result,null,n,!0);case 2:case"end":return e.stop()}}),e)}))),i.apply(this,arguments)}},setBorderWidth:function(){var e=this.$refs.information_panel_drawer.$el.querySelector(".v-navigation-drawer__border");e.style.width=this.navigation.borderSize+"px",e.style.cursor="ew-resize"},setEvents:function(){var e=this.navigation.borderSize,t=this.$refs.information_panel_drawer.$el,a=t.querySelector(".v-navigation-drawer__border"),n=this,s=t.classList.contains("v-navigation-drawer--right")?"right":"left";function i(e){document.body.style.cursor="ew-resize";var a="right"===s?document.body.scrollWidth-e.clientX:e.clientX;t.style.width=a+"px"}a.addEventListener("mousedown",(function(a){if(a.offsetX<e){a.x;t.style.transition="initial",document.addEventListener("mousemove",i,!1)}}),!1),document.addEventListener("mouseup",(function(){t.style.transition="",n.navigation.width=t.style.width,document.body.style.cursor="",document.removeEventListener("mousemove",i,!1)}),!1)},pausedChange:function(e){this.paused=e},connectReport:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){var a,n,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a="https:"===window.location.protocol?"wss:":"ws:",n=":7688",a+"//"+window.location.hostname+n+"/ws",s=e,e.socketReport.onopen=function(e){Ye.log("Websocket connected for reports.")},e.socketReport.onclose=function(e){setTimeout((function(){s.connectReport()}),2e3)},e.sockeReport.onerror=function(e){s.connectedStatus="Disconnected Server, reattempting every 1 second. Check Logs and Network Settings",s.socketReport.close()},e.socketReport.onmessage=function(e){};case 8:case"end":return t.stop()}}),t)})))()},connect:function(){var e=this;return(0,r.Z)(regeneratorRuntime.mark((function t(){var a,n,s,i;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:a="https:"===window.location.protocol?"https:":"http:",n=":7689",s=a+"//"+window.location.hostname+n,e.socket=(0,Je.io)(s,{withCredentials:!0,extraHeaders:{"my-custom-header":"abcd"}}),i=e,e.socket.on("disconnect",(function(e){Ye.log("Socket is closed. Reconnect will be attempted in 1 second.",e.reason)})),e.socket.on("error",(function(e){Ye.error("Socket encountered error: ",e.message,"Closing socket"),i.connectedStatus="Disconnected Server, reattempting every 1 second. Check Logs and Network Settings",i.socket.close()})),e.socket.on("connect_error",(function(e){Ye.error("Socket encountered error: ",e,"Closing socket")})),i.socket.on("connect",(function(){Ye.log("Websocket connected."),i.connectedStatus="Connected",i.socket.emit("message",{type:"message"}),i.socket.on("message",(function(e){})),i.socket.on("add",(function(t){e.samplesheetdata.push(t.data)})),i.socket.on("recentQueue",(function(t){e.status[t.data.name]||(e.status[t.data.name]=[]),t.data.index>=0?e.$set(e.status[t.data.name],t.data.index,t.data):e.$set(e.status[t.data.name],e.status[t.data.name].length>0?e.status[t.data.name].length-1:0,t.data)})),i.socket.on("status",(function(t){e.status[t.samplename]||(e.status[t.samplename]=[]),e.$set(e.status[t.samplename][t.index],"status",t.status),e.$set(e.status[t.samplename][t.index],"sample",t.sample),e.$set(e.current,t.samplename,t.status.running)})),i.socket.on("basepathserver",(function(t){e.basepathserver=t.data})),i.socket.on("paused",(function(t){e.pausedServer=t.message})),i.socket.on("getbundleconfig",(function(t){e.bundleconfig=t.data})),i.socket.on("anyRunning",(function(t){e.anyRunning=t.status})),i.socket.on("queueLength",(function(t){e.queueLength=t.data})),i.socket.on("logs",(function(t){e.logs.push(t.data);var a=e.logs.slice(-100);e.logs=a})),i.socket.on("data",(function(t){(0,r.Z)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.next=2,e.importData(t.data,null,t.samplename);case 2:e.topLevelSampleNames[t.topLevelSampleNames]||(e.topLevelSampleNames[t.topLevelSampleNames]=[]),n=e.topLevelSampleNames[t.topLevelSampleNames].indexOf(t.samplename),n<0&&e.topLevelSampleNames[t.topLevelSampleNames].push(t.samplename);case 5:case"end":return a.stop()}}),a)})))().catch((function(e){Ye.error(e)}))})),i.socket.emit("gpu",{type:"gpu",gpu:i.gpu}),i.socket.emit("start",{samplesheet:i.samplesheetdata,overwrite:!1})}));case 9:case"end":return t.stop()}}),t)})))()},extractValue:function(e){var t=this,a={};if(e){var n=e.split(";");n.length>1?(n=n[1],n=n.split(", "),n&&n.length>0&&n.forEach((function(e){var n=new RegExp(/(?<=\()(.*?)(?=\))|(?<=^)(.*)(?=\()/,"g"),s=e.match(n),i=null,r=null;s&&s.length>1&&(r=s[0].trim(),i=s[1].trim(),t.uniquenametypes[i]||(t.uniquenametypes[i]=1),a[i]?a[i].push(r):a[i]=[r])}))):n=e}return a},runBundleUpdate:function(){this.sendMessage({type:"runbundle",config:this.runBundle,message:"Run Bundle config updates ".concat(this.runBundle," ")})},updateConfig:function(e,t){"kraken2"==t?this.sendMessage({type:"updateConfig",config:e,message:"Config Updated for data, select restart run  next please "}):"bundle"==t&&this.sendMessage({type:"updateBundleconfig",config:e,message:"Bundle Config Updated for data, select restart run  next please "})},filter:function(){var e={},t=this;this.selectedsamples.map((function(a){var n=t.filterData(I().cloneDeep(t.fullData[a]));n=t.parseData(n),e[a]=n})),this.selectedData=e},barcode:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function a(){return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:t.sendMessage({type:"barcode",sample:e.sample,kits:e.kits,dirpath:e.path_1});case 1:case"end":return a.stop()}}),a)})))()},rerun:function(e,t){var a=this;return(0,r.Z)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){while(1)switch(n.prev=n.next){case 0:a.sendMessage({type:"rerun",overwrite:!0,sample:t,index:e,message:"Begin rerun of ".concat(t,", job # ").concat(e)});case 1:case"end":return n.stop()}}),n)})))()},sendNewWatch:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function a(){var n,s;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:n=e.overwrite,s=e.sample,t.sampledata={},t.stagedData={},s?t.sendMessage({type:"restart",overwrite:n,sample:s,message:"Begin restart directory ".concat(t.watchdir,", classify with ").concat(t.database," ")}):t.sendMessage({type:"start",samplesheet:t.samplesheetdata,overwrite:n,message:"Begin watching directory ".concat(t.watchdir,", classify with ").concat(t.database," ")});case 5:case"end":return a.stop()}}),a)})))()},cancel:function(e){Ye.log(e,"<<<"),this.sendMessage({type:"cancel",index:e.index,sample:e.sample,message:"Cancel Index Job: ".concat(e.index," for sample: ").concat(e.sample)})},updateData:function(e){this.samplesheetdata=e,this.sendMessage({type:"start",samplesheet:this.samplesheetdata,overwrite:!1,message:"Begin watching directory ".concat(this.watchdir,", classify with ").concat(this.database," ")})},addDropFiles:function(e){this.value=Array.from(e.dataTransfer.files),this.database_file=this.value[0].path},toggleSamples:function(){var e=this;this.$nextTick((function(){e.selectedAllSamples?e.$set(e,"selectedsamples",[]):e.selectedsamples=e.samplekeys.slice()}))},toggle:function(){var e=this;this.$nextTick((function(){e.selectedAllRanks?e.defaults=[]:e.defaults=e.defaultsList}))},waitForOpenConnection:function(){var e=this.socket;return new Promise((function(t,a){var n=10,s=200,i=0,r=setInterval((function(){i>n-1?(clearInterval(r),a(new Error("Maximum number of attempts exceeded."))):e.readyState===e.OPEN&&(clearInterval(r),t()),i++}),s)}))},sendMessage:function(){var e=(0,r.Z)(regeneratorRuntime.mark((function e(t){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:if(this.socket.readyState===this.socket.OPEN){e.next=12;break}return e.prev=1,e.next=4,this.waitForOpenConnection();case 4:this.socket.emit(t.type,t),e.next=10;break;case 7:e.prev=7,e.t0=e["catch"](1),Ye.error(e.t0);case 10:e.next=13;break;case 12:this.socket.emit(t.type,t);case 13:case"end":return e.stop()}}),e,this,[[1,7]])})));function t(t){return e.apply(this,arguments)}return t}(),parseData:function(e){function t(e,n){return n-1<=-1?{name:"base",taxid:-1,value:0}:a[n-1]?e[n-1]:t(e,n-1)}var a={};return e=e.map((function(e){var n=t(a,e.depth);return-1==e.taxid?(e.source=null,e.parenttaxid=null):(e.source=n.name,e.parenttaxid=n.taxid),a[e.depth]={name:e.target,taxid:e.taxid,value:e.num_fragments_assigned},e})),e},filterData:function(e){var t=this,a=I().cloneDeep(e);return a=a.filter((function(e){var a=-1==e.taxid||t.defaults.indexOf(e.rank_code)>-1&&e.depth<=t.maxDepth&&e.depth>=t.minDepth&&t.minPercent<=e.value/100;return a})),a},mapData:function(e){var t=this;e.forEach((function(e){t.mapped_names[e.Taxid]=e}))},importNames:function(e){var t=this;return(0,r.Z)(regeneratorRuntime.mark((function a(){var n;return regeneratorRuntime.wrap((function(a){while(1)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,d.pvA(e);case 3:n=a.sent,t.mapData(n),a.next=10;break;case 7:a.prev=7,a.t0=a["catch"](0),Ye.error(a.t0);case 10:case"end":return a.stop()}}),a,null,[[0,7]])})))()},importData:function(e,t,a,n){var s=this;return(0,r.Z)(regeneratorRuntime.mark((function i(){var r,l,o,c,u,m,p,f;return regeneratorRuntime.wrap((function(i){while(1)switch(i.prev=i.next){case 0:if("file"!=t){i.next=6;break}return i.next=3,d.fLW(e);case 3:r=i.sent,i.next=7;break;case 6:r=e;case 7:return l=s.selectedsamplesAll.indexOf(a),-1==l&&(s.selectedsamplesAll.push(a),s.selectedsamples.push(a)),o=0,c=s,u={},m={value:0,num_fragments_clade:0,num_fragments_assigned:0,rank_code:"1B",taxid:-1,target:"base",source:null,depth:0},p=d.E0m(r,(function(e){e[0]=e[0].trim(),e[5]=e[5]?e[5]:"Unknown",e[5]=e[5].replace(/\t/,"");var t=e[5].search(/\S/);e[5]=e[5].trim();var a=0,n=e[5]?"".concat(e[5]):"root",s=n.replace(/\;.*/,""),i=c.extractValue(n),r={value:parseFloat(e[0]),num_fragments_clade:parseInt(e[1]),num_fragments_assigned:parseInt(e[2]),rank_code:e[3],taxid:e[4],size:a,target:s,full:"".concat(e[4]," ").concat(n),objfull:i,source:null,depth:t};return o+=parseInt(e[2]),0==t&&(m.value+=parseFloat(r.value),m.num_fragments_clade+=parseInt(r.num_fragments_clade)),u[e[3]]=1,r})),s.fullsize[a]=o,p.unshift(m),s.fullData[a]=p,p=s.filterData(p),p=s.parseData(p),Object.keys(u).forEach((function(e){-1==s.defaultsList.indexOf(e)&&s.defaultsList.push(e)})),s.stagedData[a]=p,s.paused||(s.sampledata[a]=p,f=s.selectedsamples.indexOf(a),f>-1?s.selectedData[a]=p:-1==f&&s.selectedData[a]&&delete s.selectedData[a]),n&&(s.manuals[a]=1),i.abrupt("return",p);case 24:case"end":return i.stop()}}),i)})))()}}},Qe=Ke,Ge=a(998),Xe=a(6232),et=a(4127),tt=a(3059),at=a(7414),nt=(0,f.Z)(Qe,s,i,!1,null,null,null),st=nt.exports;v()(nt,{VAlert:O.Z,VApp:Ge.Z,VAppBar:Xe.Z,VAutocomplete:Fe.Z,VBtn:z.Z,VCheckbox:M.Z,VChip:et.Z,VCol:g.Z,VContainer:x.Z,VDivider:W.Z,VFileInput:H.Z,VIcon:J.Z,VListItem:K.Z,VListItemAction:Q.Z,VListItemContent:G.km,VListItemTitle:G.V9,VMain:tt.Z,VNavigationDrawer:ee.Z,VProgressCircular:te.Z,VRow:b.Z,VSelect:y.Z,VSlider:at.Z,VSpacer:k.Z,VTabItem:re.Z,VTabsItems:oe.Z,VTextField:w.Z,VToolbarTitle:S.qW,VTooltip:de.Z});var it=a(1705);n.Z.use(it.Z);var rt=new it.Z({defaultAssets:!1,icons:{iconfont:"mdi"}}),lt=a(3982),ot=a.n(lt),ct=a(6540);n.Z.component("downloadExcel",ct.Z),n.Z.config.productionTip=!1,n.Z.use(ot()),n.Z.use(V()),new n.Z({vuetify:rt,render:function(e){return e(st)}}).$mount("#app")}},t={};function a(n){var s=t[n];if(void 0!==s)return s.exports;var i=t[n]={id:n,loaded:!1,exports:{}};return e[n].call(i.exports,i,i.exports,a),i.loaded=!0,i.exports}a.m=e,function(){var e=[];a.O=function(t,n,s,i){if(!n){var r=1/0;for(u=0;u<e.length;u++){n=e[u][0],s=e[u][1],i=e[u][2];for(var l=!0,o=0;o<n.length;o++)(!1&i||r>=i)&&Object.keys(a.O).every((function(e){return a.O[e](n[o])}))?n.splice(o--,1):(l=!1,i<r&&(r=i));if(l){e.splice(u--,1);var c=s();void 0!==c&&(t=c)}}return t}i=i||0;for(var u=e.length;u>0&&e[u-1][2]>i;u--)e[u]=e[u-1];e[u]=[n,s,i]}}(),function(){a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,{a:t}),t}}(),function(){a.d=function(e,t){for(var n in t)a.o(t,n)&&!a.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})}}(),function(){a.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})}}(),function(){a.nmd=function(e){return e.paths=[],e.children||(e.children=[]),e}}(),function(){var e={143:0};a.O.j=function(t){return 0===e[t]};var t=function(t,n){var s,i,r=n[0],l=n[1],o=n[2],c=0;if(r.some((function(t){return 0!==e[t]}))){for(s in l)a.o(l,s)&&(a.m[s]=l[s]);if(o)var u=o(a)}for(t&&t(n);c<r.length;c++)i=r[c],a.o(e,i)&&e[i]&&e[i][0](),e[i]=0;return a.O(u)},n=self["webpackChunkmytax"]=self["webpackChunkmytax"]||[];n.forEach(t.bind(null,0)),n.push=t.bind(null,n.push.bind(n))}();var n=a.O(void 0,[998],(function(){return a(1169)}));n=a.O(n)})();
//# sourceMappingURL=app-legacy.bf9d5ba4.js.map